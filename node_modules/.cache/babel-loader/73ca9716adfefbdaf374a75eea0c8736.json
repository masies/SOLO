{"ast":null,"code":"import _classCallCheck from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/MS/Desktop/uni/stage/tiascolto/src/components/keyboard/Keyboard.js\";\nimport React from 'react';\nimport { Piano, MidiNumbers } from 'react-piano';\nimport 'react-piano/dist/styles.css';\nimport classNames from 'classnames';\nimport DimensionsProvider from './DimensionsProvider';\nimport SoundfontProvider from './SoundfontProvider';\nimport PianoConfig from './PianoConfig';\nvar audioContext = new (window.AudioContext || window.webkitAudioContext)();\nvar soundfontHostname = 'https://d1pzp51pvbm36p.cloudfront.net';\nvar marioS = [[76, 77], [73, 77], [65, 77], [76], [65], [40], [65], [76], [65], [40]];\nvar instrument_list = [{\n  value: 'accordion',\n  label: 'accordion',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('f2'),\n    last: MidiNumbers.fromNote('a7')\n  }\n}, // F2 - A6\n{\n  value: 'acoustic_grand_piano',\n  label: 'acoustic grand piano',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('a0'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'acoustic_guitar_nylon',\n  label: 'acoustic_guitar_nylon',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('b6')\n  }\n}, // E2 - B6\n{\n  value: 'acoustic_guitar_steel',\n  label: 'acoustic_guitar_steel',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('b6')\n  }\n}, // E2 - B6\n{\n  value: 'alto_sax',\n  label: 'alto_sax',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c3#'),\n    last: MidiNumbers.fromNote('g5')\n  }\n}, // C#3 - G#5 \n{\n  value: 'banjo',\n  label: 'banjo',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c3'),\n    last: MidiNumbers.fromNote('a4')\n  }\n}, // C3 - A4\n{\n  value: 'baritone_sax',\n  label: 'baritone_sax',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c2#'),\n    last: MidiNumbers.fromNote('g4')\n  }\n}, // C#2 - G#4\n{\n  value: 'bassoon',\n  label: 'bassoon',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('g5')\n  }\n}, {\n  value: 'celesta',\n  label: 'celesta',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c3'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, // C3 - F8\n{\n  value: 'cello',\n  label: 'cello',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'church_organ',\n  label: 'church_organ',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('c7')\n  }\n}, // C1 - C7\n{\n  value: 'clarinet',\n  label: 'clarinet',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'contrabass',\n  label: 'contrabass',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'distortion_guitar',\n  label: 'distortion_guitar',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('b6')\n  }\n}, // E2 - B6\n{\n  value: 'electric_guitar_clean',\n  label: 'electric_guitar_clean',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('b6')\n  }\n}, // E2 - B6\n{\n  value: 'electric_piano_1',\n  label: 'electric_piano_1',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'english_horn',\n  label: 'english_horn',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('e3'),\n    last: MidiNumbers.fromNote('b5')\n  }\n}, // E3 - B5\n{\n  value: 'flute',\n  label: 'flute',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'french_horn',\n  label: 'french_horn',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'glockenspiel',\n  label: 'glockenspiel',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('f5'),\n    last: MidiNumbers.fromNote('d8')\n  }\n}, // F5 - D8\n{\n  value: 'lead_1_square',\n  label: 'lead_1_square',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'lead_2_sawtooth',\n  label: 'lead_2_sawtooth',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'marimba',\n  label: 'marimba',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c2'),\n    last: MidiNumbers.fromNote('c7')\n  }\n}, // C2 - C7\n{\n  value: 'oboe',\n  label: 'oboe',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'piccolo',\n  label: 'piccolo',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('d5'),\n    last: MidiNumbers.fromNote('c8')\n  }\n}, // D5 - C8\n{\n  value: 'recorder',\n  label: 'recorder',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('f3'),\n    last: MidiNumbers.fromNote('g6')\n  }\n}, // F3 - G6\n{\n  value: 'soprano_sax',\n  label: 'soprano_sax',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('g3#'),\n    last: MidiNumbers.fromNote('d6#')\n  }\n}, // G#3 - D6#\n{\n  value: 'tenor_sax',\n  label: 'tenor_sax',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('g2#'),\n    last: MidiNumbers.fromNote('d6#')\n  }\n}, // G#2 - D#6\n{\n  value: 'timpani',\n  label: 'timpani',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('b1'),\n    last: MidiNumbers.fromNote('c4')\n  }\n}, // B1 - C4\n{\n  value: 'trombone',\n  label: 'trombone',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'trumpet',\n  label: 'trumpet',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'tuba',\n  label: 'tuba',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'tubular_bells',\n  label: 'tubular_bells',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('f3'),\n    last: MidiNumbers.fromNote('f5')\n  }\n}, // F3 - F5\n{\n  value: 'vibraphone',\n  label: 'vibraphone',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'viola',\n  label: 'viola',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'violin',\n  label: 'violin',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'xylophone',\n  label: 'xylophone',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('f4'),\n    last: MidiNumbers.fromNote('c8')\n  } // F4 - C8\n\n}];\nvar mario = [[76], [73], [65], [76], [65], [40], [65], [76], [65], [40], [65], [72], [65], [76], [65], [40], [65], [79], [65], [40], [36], [67], [65], [40], [36], [72], [65], [40], [24], [67], [65], [40], [24], [64], [65], [40], [24], [69], [65], [40], [65], [71], [65], [40], [65], [70], [65], [69], [65], [40], [65], [67], [16], [76], [16], [79], [16], [81], [65], [40], [65], [77], [65], [79], [65], [40], [65], [76], [65], [40], [65], [72], [65], [74], [65], [71], [65], [40], [24], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [60], [65], [76], [65], [53], [65], [68], [65], [69], [65], [72], [65], [60], [65], [69], [65], [72], [65], [74], [65], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [55], [65], [76], [65], [40], [65], [84], [65], [40], [65], [84], [65], [84], [65], [55], [65], [40], [65], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [60], [65], [76], [65], [53], [65], [68], [65], [69], [65], [72], [65], [60], [65], [69], [65], [72], [65], [74], [65], [48], [65], [40], [65], [75], [24], [40], [65], [74], [24], [40], [65], [72], [24], [40], [42], [55], [42], [55], [42], [40], [42], [48], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [40], [42], [76], [42], [72], [42], [40], [42], [69], [42], [67], [42], [40], [42], [43], [42], [40], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [76], [42], [55], [42], [40], [24], [48], [42], [40], [24], [43], [42], [40], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [40], [42], [76], [42], [72], [42], [40], [42], [69], [42], [67], [42], [40], [42], [43], [42], [40], [42], [76], [42], [76], [42], [40], [42], [76], [42], [40], [42], [72], [42], [76], [42], [40], [42], [79], [42], [40], [36], [67], [42], [40], [36], [76], [42], [72], [42], [40], [42], [67], [42], [55], [42], [40], [42], [68], [42], [40], [42], [69], [42], [77], [42], [53], [42], [77], [42], [69], [42], [60], [42], [53], [42], [40], [42], [71], [16], [81], [16], [81], [16], [81], [16], [79], [16], [77], [16], [76], [42], [72], [42], [55], [42], [69], [42], [67], [42], [60], [42], [55], [42], [40], [42], [76], [42], [72], [42], [40], [42], [67], [42], [55], [42], [40], [42], [68], [42], [40], [42], [69], [42], [77], [42], [53], [42], [77], [42], [69], [42], [60], [42], [53], [42], [40], [42], [71], [42], [77], [42], [40], [42], [77], [42], [77], [16], [76], [16], [74], [16], [72], [42], [64], [42], [55], [42], [64], [42], [60], [42], [40], [36], [72], [42], [40], [24], [67], [42], [40], [24], [64], [24], [69], [16], [71], [16], [69], [16], [68], [24], [70], [24], [68], [24], [67], [42], [65], [42], [67], [48]];\n\nvar Keyboard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Keyboard, _React$Component);\n\n  function Keyboard(props) {\n    var _this;\n\n    _classCallCheck(this, Keyboard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Keyboard).call(this, props));\n    _this.state = {\n      // playNote: true,\n      timeoutID: null,\n      nextNote: [],\n      activeNotesIndex: 0,\n      isPlaying: false,\n      config: {\n        instrumentSet: ['acoustic_grand_piano'],\n        octaves: 1,\n        pauseTime: 0,\n        duration: 1,\n        intervals: [{\n          value: \"7\",\n          label: \"5p \",\n          isFixed: true\n        }],\n        instrumentName: 'acoustic_grand_piano',\n        noteRange: {\n          first: MidiNumbers.fromNote('c1'),\n          last: MidiNumbers.fromNote('b7')\n        }\n      }\n    };\n\n    _this.setPlaying = function (value) {\n      if (value) {\n        _this.generateSong(); // if set playing then setTimeout with callback\n\n\n        var timeoutCallback = function timeoutCallback(playNote, nextCallback) {\n          var duration;\n\n          if (playNote) {\n            // console.log(\"note\",(new Date()).getSeconds())\n            var index = (_this.state.activeNotesIndex + 1) % _this.props.song.length; // set state to play note\n\n            _this.setState({\n              activeNotesIndex: index,\n              nextNote: _this.props.song[index]\n            }); // calculate duration\n\n\n            duration = _this.state.config.duration == 6 ? Math.floor(Math.random() * 5) * 300 : _this.state.config.duration * 1000;\n          } else {\n            // console.log(\"pause\",(new Date()).getSeconds())\n            // set state to play pause\n            _this.setState({\n              nextNote: [-1]\n            }); // calculate duration\n\n\n            duration = _this.state.config.pauseTime * 1000;\n          }\n\n          _this.setState({\n            timeoutID: setTimeout(function () {\n              return nextCallback(!playNote, nextCallback);\n            }, duration)\n          });\n        };\n\n        _this.setState({\n          timeoutID: setTimeout(function () {\n            return timeoutCallback(true, timeoutCallback);\n          }, 1000)\n        });\n      } else {\n        // otherwise clear timeout\n        clearTimeout(_this.state.timeoutID);\n      }\n\n      _this.setState({\n        isPlaying: value,\n        playNote: true\n      });\n    };\n\n    _this.playbackIntervalFn = null;\n    return _this;\n  }\n\n  _createClass(Keyboard, [{\n    key: \"firstAndLastNote\",\n    value: function firstAndLastNote() {\n      var _this2 = this;\n\n      //if list is empty we use piano\n      if (this.state.config.instrumentSet.length == 0) {\n        return [MidiNumbers.fromNote('c1'), MidiNumbers.fromNote('b7')];\n      }\n\n      var list = instrument_list.filter(function (value) {\n        return -1 !== _this2.state.config.instrumentSet.indexOf(value['value']);\n      });\n      var min = list.reduce(function (min, value) {\n        return value['range']['first'] < min ? value['range']['first'] : min;\n      }, list[0]['range']['first']); // console.log(\"min : \", min);\n\n      var max = list.reduce(function (max, value) {\n        return value['range']['last'] > max ? value['range']['last'] : max;\n      }, list[0]['range']['last']); // console.log(\"max : \", max);\n\n      return [min, max];\n    }\n  }, {\n    key: \"getInstrumentFromNote\",\n    value: function getInstrumentFromNote(note) {\n      var _this3 = this;\n\n      var instruments = this.state.config.instrumentSet;\n      var done = true;\n\n      var _loop = function _loop() {\n        var idx = Math.floor(Math.random() * _this3.state.config.instrumentSet.length);\n        var instrument = instruments[idx];\n        instrument_data = instrument_list.filter(function (obj) {\n          return obj.value === instrument;\n        });\n\n        if (instrument_data[0].range.last >= note && instrument_data[0].range.first <= note) {\n          done = false;\n          return {\n            v: instrument_data[0].value\n          };\n        }\n      };\n\n      while (done) {\n        var instrument_data;\n\n        var _ret = _loop();\n\n        if (typeof _ret === \"object\") return _ret.v;\n      }\n    }\n  }, {\n    key: \"generateSong\",\n    value: function generateSong() {\n      var newsong = [];\n      var instruments = []; //  extract the intervals \n\n      var keys = Object.keys(this.state.config.intervals); //  extract the note range from instrumentSet\n\n      var range = this.firstAndLastNote(); // extract octaves\n\n      var octave = Math.floor(Math.random() * this.state.config.octaves) + 1; // select a random note between the first and the last\n\n      var startingNote = Math.floor(Math.random() * (range[1] - range[0]) + range[0]);\n      newsong.push([startingNote]); // select an instument to play the note\n\n      instruments.push(this.getInstrumentFromNote(startingNote));\n\n      for (var i = 0; i < 8; i++) {\n        // jumping value\n        var interval_idx = Math.floor(Math.random() * this.state.config.intervals.length);\n        var randomJump = 7;\n\n        if (this.state.config.intervals.length > 0) {\n          randomJump = parseInt(this.state.config.intervals[interval_idx].value);\n        }\n\n        console.log(\"randomJump\", randomJump);\n        console.log(\"startingNote\", startingNote); // randomly add intervarls \n\n        Math.round(Math.random()) == 0 ? startingNote -= randomJump : startingNote += randomJump;\n        newsong.push([startingNote]);\n        instruments.push(this.getInstrumentFromNote(startingNote));\n      }\n\n      console.log(instruments);\n      console.log(newsong);\n      this.setState({\n        instruments: instruments\n      });\n      this.props.setSong(newsong);\n      this.setState({\n        activeNotesIndex: 0,\n        nextNote: []\n      });\n    }\n  }, {\n    key: \"restart\",\n    value: function restart() {\n      this.setState({\n        activeNotesIndex: 0\n      });\n      this.setState({\n        isPlaying: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(SoundfontProvider, {\n        audioContext: audioContext,\n        instrumentName: this.state.config.instrumentSet.length == 0 ? \"acoustic_grand_piano\" : this.state.config.instrumentSet[Math.floor(Math.random() * this.state.config.instrumentSet.length)],\n        hostname: soundfontHostname,\n        render: function render(_ref) {\n          var isLoading = _ref.isLoading,\n              playNote = _ref.playNote,\n              stopNote = _ref.stopNote;\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 234\n            },\n            __self: this\n          }, React.createElement(DimensionsProvider, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 235\n            },\n            __self: this\n          }, function (_ref2) {\n            var containerWidth = _ref2.containerWidth;\n            return React.createElement(Piano, {\n              activeNotes: _this4.state.isPlaying ? _this4.state.nextNote : [],\n              noteRange: _this4.state.config.noteRange,\n              playNote: playNote,\n              stopNote: stopNote,\n              disabled: isLoading,\n              width: containerWidth,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 237\n              },\n              __self: this\n            });\n          }), React.createElement(PianoConfig, {\n            config: _this4.state.config,\n            setConfig: function setConfig(config) {\n              _this4.setState({\n                config: Object.assign({}, _this4.state.config, config)\n              });\n            },\n            pauseTime: _this4.state.config.pauseTime,\n            instrumentList: instrument_list,\n            instrumentSet: _this4.state.config.instrumentSet,\n            instrumentName: _this4.state.config.instrumentName == \"random\" ? _this4.state.instruments[_this4.state.activeNotesIndex] : _this4.state.config.instrumentName,\n            song: _this4.props.song,\n            activeNotesIndex: _this4.state.activeNotesIndex,\n            duration: _this4.state.config.duration,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 249\n            },\n            __self: this\n          }), React.createElement(\"hr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 264\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 266\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 267\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            style: {\n              margin: '10px '\n            },\n            className: classNames('btn', {\n              'btn-info': !_this4.state.isPlaying,\n              'btn-danger': _this4.state.isPlaying\n            }),\n            onClick: function onClick() {\n              return _this4.setPlaying(!_this4.state.isPlaying);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 268\n            },\n            __self: this\n          }, _this4.state.isPlaying ? 'Stop' : 'Start'), React.createElement(\"button\", {\n            style: {\n              margin: '10px '\n            },\n            className: classNames('btn', {\n              'btn-info': !_this4.state.isPlaying,\n              'btn-danger': _this4.state.isPlaying\n            }),\n            onClick: function onClick() {\n              return _this4.restart();\n            },\n            disabled: _this4.state.isPlaying,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 279\n            },\n            __self: this\n          }, 'restart'))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Keyboard;\n}(React.Component);\n\nexport default Keyboard;","map":{"version":3,"sources":["/Users/MS/Desktop/uni/stage/tiascolto/src/components/keyboard/Keyboard.js"],"names":["React","Piano","MidiNumbers","classNames","DimensionsProvider","SoundfontProvider","PianoConfig","audioContext","window","AudioContext","webkitAudioContext","soundfontHostname","marioS","instrument_list","value","label","isFixed","range","first","fromNote","last","mario","Keyboard","props","state","timeoutID","nextNote","activeNotesIndex","isPlaying","config","instrumentSet","octaves","pauseTime","duration","intervals","instrumentName","noteRange","setPlaying","generateSong","timeoutCallback","playNote","nextCallback","index","song","length","setState","Math","floor","random","setTimeout","clearTimeout","playbackIntervalFn","list","filter","indexOf","min","reduce","max","note","instruments","done","idx","instrument","instrument_data","obj","newsong","keys","Object","firstAndLastNote","octave","startingNote","push","getInstrumentFromNote","i","interval_idx","randomJump","parseInt","console","log","round","setSong","isLoading","stopNote","containerWidth","assign","margin","restart","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Piano, MidiNumbers } from 'react-piano';\nimport 'react-piano/dist/styles.css';\nimport classNames from 'classnames';\nimport DimensionsProvider from './DimensionsProvider';\nimport SoundfontProvider from './SoundfontProvider';\nimport PianoConfig from './PianoConfig';\n\nconst audioContext = new (window.AudioContext || window.webkitAudioContext)();\nconst soundfontHostname = 'https://d1pzp51pvbm36p.cloudfront.net';\n\nvar marioS = [\n  [76, 77], [73, 77], [65, 77], [76], [65], [40], [65], [76], [65], [40]\n];\n\nvar instrument_list = [\n\n  { value: 'accordion', label: 'accordion', isFixed: true, range: { first: MidiNumbers.fromNote('f2'), last: MidiNumbers.fromNote('a7') } }, // F2 - A6\n  { value: 'acoustic_grand_piano', label: 'acoustic grand piano', isFixed: true, range: { first: MidiNumbers.fromNote('a0'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'acoustic_guitar_nylon', label: 'acoustic_guitar_nylon', isFixed: true, range: { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('b6') } }, // E2 - B6\n  { value: 'acoustic_guitar_steel', label: 'acoustic_guitar_steel', isFixed: true, range: { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('b6') } }, // E2 - B6\n  { value: 'alto_sax', label: 'alto_sax', isFixed: true, range: { first: MidiNumbers.fromNote('c3#'), last: MidiNumbers.fromNote('g5') } }, // C#3 - G#5 \n  { value: 'banjo', label: 'banjo', isFixed: true, range: { first: MidiNumbers.fromNote('c3'), last: MidiNumbers.fromNote('a4') } }, // C3 - A4\n  { value: 'baritone_sax', label: 'baritone_sax', isFixed: true, range: { first: MidiNumbers.fromNote('c2#'), last: MidiNumbers.fromNote('g4') } }, // C#2 - G#4\n  { value: 'bassoon', label: 'bassoon', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('g5') } },\n  { value: 'celesta', label: 'celesta', isFixed: true, range: { first: MidiNumbers.fromNote('c3'), last: MidiNumbers.fromNote('b7') } }, // C3 - F8\n  { value: 'cello', label: 'cello', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'church_organ', label: 'church_organ', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('c7') } }, // C1 - C7\n  { value: 'clarinet', label: 'clarinet', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'contrabass', label: 'contrabass', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'distortion_guitar', label: 'distortion_guitar', isFixed: true, range: { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('b6') } }, // E2 - B6\n  { value: 'electric_guitar_clean', label: 'electric_guitar_clean', isFixed: true, range: { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('b6') } }, // E2 - B6\n  { value: 'electric_piano_1', label: 'electric_piano_1', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'english_horn', label: 'english_horn', isFixed: true, range: { first: MidiNumbers.fromNote('e3'), last: MidiNumbers.fromNote('b5') } }, // E3 - B5\n  { value: 'flute', label: 'flute', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'french_horn', label: 'french_horn', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'glockenspiel', label: 'glockenspiel', isFixed: true, range: { first: MidiNumbers.fromNote('f5'), last: MidiNumbers.fromNote('d8') } }, // F5 - D8\n  { value: 'lead_1_square', label: 'lead_1_square', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'lead_2_sawtooth', label: 'lead_2_sawtooth', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'marimba', label: 'marimba', isFixed: true, range: { first: MidiNumbers.fromNote('c2'), last: MidiNumbers.fromNote('c7') } }, // C2 - C7\n  { value: 'oboe', label: 'oboe', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'piccolo', label: 'piccolo', isFixed: true, range: { first: MidiNumbers.fromNote('d5'), last: MidiNumbers.fromNote('c8') } }, // D5 - C8\n  { value: 'recorder', label: 'recorder', isFixed: true, range: { first: MidiNumbers.fromNote('f3'), last: MidiNumbers.fromNote('g6') } }, // F3 - G6\n  { value: 'soprano_sax', label: 'soprano_sax', isFixed: true, range: { first: MidiNumbers.fromNote('g3#'), last: MidiNumbers.fromNote('d6#') } }, // G#3 - D6#\n  { value: 'tenor_sax', label: 'tenor_sax', isFixed: true, range: { first: MidiNumbers.fromNote('g2#'), last: MidiNumbers.fromNote('d6#') } }, // G#2 - D#6\n  { value: 'timpani', label: 'timpani', isFixed: true, range: { first: MidiNumbers.fromNote('b1'), last: MidiNumbers.fromNote('c4') } }, // B1 - C4\n  { value: 'trombone', label: 'trombone', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'trumpet', label: 'trumpet', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'tuba', label: 'tuba', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'tubular_bells', label: 'tubular_bells', isFixed: true, range: { first: MidiNumbers.fromNote('f3'), last: MidiNumbers.fromNote('f5') } }, // F3 - F5\n  { value: 'vibraphone', label: 'vibraphone', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'viola', label: 'viola', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'violin', label: 'violin', isFixed: true, range: { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'xylophone', label: 'xylophone', isFixed: true, range: { first: MidiNumbers.fromNote('f4'), last: MidiNumbers.fromNote('c8') } } // F4 - C8\n]\nvar mario = [\n  [76], [73], [65], [76], [65], [40], [65], [76], [65], [40], [65], [72], [65], [76], [65], [40], [65], [79], [65], [40], [36], [67], [65], [40], [36], [72], [65], [40], [24], [67], [65], [40], [24], [64], [65], [40], [24], [69], [65], [40], [65], [71], [65], [40], [65], [70], [65], [69], [65], [40], [65], [67], [16], [76], [16], [79], [16], [81], [65], [40], [65], [77], [65], [79], [65], [40], [65], [76], [65], [40], [65], [72], [65], [74], [65], [71], [65], [40], [24], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [60], [65], [76], [65], [53], [65], [68], [65], [69], [65], [72], [65], [60], [65], [69], [65], [72], [65], [74], [65], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [55], [65], [76], [65], [40], [65], [84], [65], [40], [65], [84], [65], [84], [65], [55], [65], [40], [65], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [60], [65], [76], [65], [53], [65], [68], [65], [69], [65], [72], [65], [60], [65], [69], [65], [72], [65], [74], [65], [48], [65], [40], [65], [75], [24], [40], [65], [74], [24], [40], [65], [72], [24], [40], [42], [55], [42], [55], [42], [40], [42], [48], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [40], [42], [76], [42], [72], [42], [40], [42], [69], [42], [67], [42], [40], [42], [43], [42], [40], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [76], [42], [55], [42], [40], [24], [48], [42], [40], [24], [43], [42], [40], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [40], [42], [76], [42], [72], [42], [40], [42], [69], [42], [67], [42], [40], [42], [43], [42], [40], [42], [76], [42], [76], [42], [40], [42], [76], [42], [40], [42], [72], [42], [76], [42], [40], [42], [79], [42], [40], [36], [67], [42], [40], [36], [76], [42], [72], [42], [40], [42], [67], [42], [55], [42], [40], [42], [68], [42], [40], [42], [69], [42], [77], [42], [53], [42], [77], [42], [69], [42], [60], [42], [53], [42], [40], [42], [71], [16], [81], [16], [81], [16], [81], [16], [79], [16], [77], [16], [76], [42], [72], [42], [55], [42], [69], [42], [67], [42], [60], [42], [55], [42], [40], [42], [76], [42], [72], [42], [40], [42], [67], [42], [55], [42], [40], [42], [68], [42], [40], [42], [69], [42], [77], [42], [53], [42], [77], [42], [69], [42], [60], [42], [53], [42], [40], [42], [71], [42], [77], [42], [40], [42], [77], [42], [77], [16], [76], [16], [74], [16], [72], [42], [64], [42], [55], [42], [64], [42], [60], [42], [40], [36], [72], [42], [40], [24], [67], [42], [40], [24], [64], [24], [69], [16], [71], [16], [69], [16], [68], [24], [70], [24], [68], [24], [67], [42], [65], [42], [67], [48]\n];\n\nclass Keyboard extends React.Component {\n  state = {\n    // playNote: true,\n    timeoutID : null,\n    nextNote: [],\n    activeNotesIndex: 0,\n    isPlaying: false,\n    config: {\n      instrumentSet: ['acoustic_grand_piano'],\n      octaves: 1,\n      pauseTime: 0,\n      duration: 1,\n      intervals: [{value: \"7\", label: \"5p \", isFixed: true}],\n      instrumentName: 'acoustic_grand_piano',\n      noteRange: {\n        first: MidiNumbers.fromNote('c1'),\n        last: MidiNumbers.fromNote('b7'),\n      },\n    },\n  };\n\n  constructor(props) {\n    super(props);\n    this.playbackIntervalFn = null;\n  };\n\n  firstAndLastNote() {\n    //if list is empty we use piano\n    if (this.state.config.instrumentSet.length == 0) {\n      return [MidiNumbers.fromNote('c1'), MidiNumbers.fromNote('b7')]\n    }\n    let list = instrument_list.filter(value => -1 !== this.state.config.instrumentSet.indexOf(value['value']));\n\n    let min = list.reduce((min, value) => value['range']['first'] < min ? value['range']['first'] : min, list[0]['range']['first']);\n    // console.log(\"min : \", min);\n\n    let max = list.reduce((max, value) => value['range']['last'] > max ? value['range']['last'] : max, list[0]['range']['last']);\n    // console.log(\"max : \", max);\n\n    return [min,max];\n\n  }\n\n  getInstrumentFromNote(note){\n    let instruments = this.state.config.instrumentSet;\n    let done = true\n    while (done) {\n      let idx = Math.floor(Math.random() * this.state.config.instrumentSet.length);\n      let instrument = instruments[idx];\n      var instrument_data = instrument_list.filter(obj => {\n        return obj.value === instrument\n      })\n      if (instrument_data[0].range.last >= note && instrument_data[0].range.first <= note) {\n        done = false;\n        return instrument_data[0].value\n      }\n    }\n\n  }\n\n  generateSong() {\n    const newsong = [];\n    const instruments = [];\n\n    //  extract the intervals \n    var keys = Object.keys(this.state.config.intervals)\n\n    //  extract the note range from instrumentSet\n    let range = this.firstAndLastNote();\n\n    // extract octaves\n    let octave = Math.floor(Math.random() * this.state.config.octaves)+1;\n\n    // select a random note between the first and the last\n    let startingNote = Math.floor(Math.random() * (range[1] - range[0]) + range[0])\n    newsong.push([startingNote]);\n\n    // select an instument to play the note\n    instruments.push(this.getInstrumentFromNote(startingNote));\n\n    for (let i = 0; i < 8; i++) {\n      // jumping value\n      let interval_idx = Math.floor(Math.random() * this.state.config.intervals.length);\n      let randomJump = 7;\n      if (this.state.config.intervals.length > 0) {\n        randomJump =  parseInt(this.state.config.intervals[interval_idx].value);\n      }\n      console.log(\"randomJump\", randomJump);\n      console.log(\"startingNote\", startingNote);\n      // randomly add intervarls \n      (Math.round(Math.random())==0)? startingNote -=  randomJump : startingNote += randomJump;\n\n \n       newsong.push([startingNote]);\n      \n       instruments.push(this.getInstrumentFromNote(startingNote));\n    }\n\n     console.log(instruments)\n     console.log(newsong)\n\n    this.setState({\n      instruments : instruments\n    })\n\n\n    this.props.setSong(newsong);\n    this.setState({activeNotesIndex: 0, nextNote: []});\n  };\n\n\n  restart() {\n    this.setState({\n      activeNotesIndex: 0,\n    });\n    this.setState({ isPlaying: true });\n  };\n\n  setPlaying = (value) => {\n    \n    if (value) { \n      this.generateSong(); \n        // if set playing then setTimeout with callback\n        const timeoutCallback = (playNote, nextCallback) => {\n          let duration;\n          if (playNote) {\n            // console.log(\"note\",(new Date()).getSeconds())\n            const index = (this.state.activeNotesIndex + 1) % this.props.song.length; \n            // set state to play note\n            this.setState({\n              activeNotesIndex: index,\n              nextNote: this.props.song[index],\n            })\n            // calculate duration\n            duration=(this.state.config.duration == 6) ?\n            Math.floor(Math.random() * 5) * 300 : this.state.config.duration * 1000\n          } else {\n            // console.log(\"pause\",(new Date()).getSeconds())\n\n            // set state to play pause\n            this.setState({\n              nextNote: [-1],\n            })\n            // calculate duration\n            duration=this.state.config.pauseTime * 1000\n\n          }\n          this.setState({\n            timeoutID: setTimeout(() => nextCallback(!playNote, nextCallback), duration)\n          });\n        }\n\n        this.setState({\n          timeoutID: setTimeout(() => timeoutCallback(true, timeoutCallback), 1000)\n        });\n    \n    } else {\n      // otherwise clear timeout\n      clearTimeout(this.state.timeoutID);\n    }\n\n    this.setState({\n      isPlaying: value,\n      playNote: true\n    });\n  };\n\n  render() {\n    return (\n      <SoundfontProvider\n        audioContext={audioContext}\n        instrumentName={(this.state.config.instrumentSet.length == 0) ? \"acoustic_grand_piano\" : this.state.config.instrumentSet[Math.floor(Math.random() * this.state.config.instrumentSet.length)]}\n        hostname={soundfontHostname}\n        render={({ isLoading, playNote, stopNote }) => (\n          <div>\n            <DimensionsProvider >\n              {({ containerWidth }) => (\n                <Piano\n                  activeNotes={\n                    this.state.isPlaying ? this.state.nextNote : []\n                  }\n                  noteRange={this.state.config.noteRange}\n                  playNote={playNote}\n                  stopNote={stopNote}\n                  disabled={isLoading}\n                  width={containerWidth}\n                />\n              )}\n            </DimensionsProvider>\n            <PianoConfig\n              config={this.state.config}\n              setConfig={(config) => {\n                this.setState({\n                  config: Object.assign({}, this.state.config, config),\n                });\n              }}\n              pauseTime={this.state.config.pauseTime}\n              instrumentList={instrument_list}\n              instrumentSet={this.state.config.instrumentSet}\n              instrumentName={this.state.config.instrumentName == \"random\" ? this.state.instruments[this.state.activeNotesIndex] : this.state.config.instrumentName}\n              song={this.props.song}\n              activeNotesIndex={this.state.activeNotesIndex}\n              duration={this.state.config.duration}\n            />\n            <hr />\n\n            <div className=\"text-center\">\n              <div>\n                <button\n                  style={{ margin: '10px ' }}\n                  className={classNames('btn', {\n                    'btn-info': !this.state.isPlaying,\n                    'btn-danger': this.state.isPlaying,\n                  })}\n                  onClick={() => this.setPlaying(!this.state.isPlaying)}\n                >\n                  {this.state.isPlaying ? 'Stop' : 'Start'}\n                </button>\n\n                <button\n                  style={{ margin: '10px ' }}\n                  className={classNames('btn', {\n                    'btn-info': !this.state.isPlaying,\n                    'btn-danger': this.state.isPlaying,\n                  })}\n                  onClick={() => this.restart()}\n                  disabled={this.state.isPlaying}\n                >\n                  {'restart'}\n                </button>\n\n              </div>\n            </div>\n\n          </div>\n        )}\n      />\n\n    );\n    \n  };\n  \n}\n\nexport default Keyboard;\n\n"]},"metadata":{},"sourceType":"module"}