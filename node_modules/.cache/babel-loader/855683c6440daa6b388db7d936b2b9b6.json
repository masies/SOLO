{"ast":null,"code":"import _classCallCheck from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/MS/Desktop/uni/stage/tiascolto/src/components/keyboard/Keyboard.js\";\nimport React from 'react';\nimport { Piano, MidiNumbers } from 'react-piano';\nimport 'react-piano/dist/styles.css';\nimport classNames from 'classnames';\nimport './Keyboard';\nimport DimensionsProvider from './DimensionsProvider';\nimport SoundfontProvider from './SoundfontProvider';\nimport PianoConfig from './PianoConfig';\nvar audioContext = new (window.AudioContext || window.webkitAudioContext)();\nvar soundfontHostname = 'https://d1pzp51pvbm36p.cloudfront.net';\nvar instrument_list = {\n  ciao: 2,\n  random: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  accordion: {\n    first: MidiNumbers.fromNote('f2'),\n    last: MidiNumbers.fromNote('a7')\n  },\n  // F2 - A6\n  acoustic_grand_piano: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  acoustic_guitar_nylon: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('b6')\n  },\n  // E2 - B6\n  acoustic_guitar_steel: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('b6')\n  },\n  // E2 - B6\n  alto_sax: {\n    first: MidiNumbers.fromNote('c#3'),\n    last: MidiNumbers.fromNote('g#5')\n  },\n  // C#3 - G#5 \n  banjo: {\n    first: MidiNumbers.fromNote('c3'),\n    last: MidiNumbers.fromNote('a4')\n  },\n  // C3 - A4\n  baritone_sax: {\n    first: MidiNumbers.fromNote('c#2'),\n    last: MidiNumbers.fromNote('g#4')\n  },\n  // C#2 - G#4\n  bassoon: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  celesta: {\n    first: MidiNumbers.fromNote('c3'),\n    last: MidiNumbers.fromNote('f8')\n  },\n  // C3 - F8\n  cello: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  church_organ: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('c7')\n  },\n  // C1 - C7\n  clarinet: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  contrabass: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  distortion_guitar: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('b6')\n  },\n  // E2 - B6\n  electric_guitar_clean: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('b6')\n  },\n  // E2 - B6\n  electric_piano_1: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  english_horn: {\n    first: MidiNumbers.fromNote('e3'),\n    last: MidiNumbers.fromNote('b5')\n  },\n  // E3 - B5\n  flute: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  french_horn: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  glockenspiel: {\n    first: MidiNumbers.fromNote('f5'),\n    last: MidiNumbers.fromNote('d8')\n  },\n  // F5 - D8\n  lead_1_square: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  lead_2_sawtooth: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  marimba: {\n    first: MidiNumbers.fromNote('c2'),\n    last: MidiNumbers.fromNote('c7')\n  },\n  // C2 - C7\n  oboe: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  piccolo: {\n    first: MidiNumbers.fromNote('d5'),\n    last: MidiNumbers.fromNote('c8')\n  },\n  // D5 - C8\n  recorder: {\n    first: MidiNumbers.fromNote('f3'),\n    last: MidiNumbers.fromNote('g6')\n  },\n  // F3 - G6\n  soprano_sax: {\n    first: MidiNumbers.fromNote('g#3'),\n    last: MidiNumbers.fromNote('d#6')\n  },\n  // G#3 - D#6\n  tenor_sax: {\n    first: MidiNumbers.fromNote('g#2'),\n    last: MidiNumbers.fromNote('d#6')\n  },\n  // G#2 - D#6\n  timpani: {\n    first: MidiNumbers.fromNote('b1'),\n    last: MidiNumbers.fromNote('c4')\n  },\n  // B1 - C4\n  trombone: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  trumpet: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  tuba: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  tubular_bells: {\n    first: MidiNumbers.fromNote('f3'),\n    last: MidiNumbers.fromNote('f5')\n  },\n  // F3 - F5\n  vibraphone: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  viola: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  violin: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  },\n  xylophone: {\n    first: MidiNumbers.fromNote('f4'),\n    last: MidiNumbers.fromNote('c8') // F4 - C8\n\n  }\n};\nconsole.log(instrument_list);\n\nvar Keyboard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Keyboard, _React$Component);\n\n  function Keyboard(props) {\n    var _this;\n\n    _classCallCheck(this, Keyboard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Keyboard).call(this, props));\n    _this.state = {\n      song: [],\n      activeNotesIndex: 0,\n      isPlaying: false,\n      config: {\n        duration: 3,\n        instrumentName: 'acoustic_grand_piano',\n        noteRange: {\n          first: MidiNumbers.fromNote('c1'),\n          last: MidiNumbers.fromNote('b7')\n        }\n      }\n    };\n\n    _this.setPlaying = function (value) {\n      if (value) {\n        _this.giveMeASong();\n      }\n\n      _this.setState({\n        isPlaying: value\n      });\n    };\n\n    _this.playbackIntervalFn = null;\n    return _this;\n  }\n\n  _createClass(Keyboard, [{\n    key: \"randomInstrument\",\n    value: function randomInstrument() {\n      var to_return = instrument_list[Math.floor(Math.random() * (instrument_list.length - 1)) + 1];\n      console.log(to_return);\n      this.setState({\n        config: {\n          noteRange: {\n            first: instrument_list[to_return].first,\n            last: instrument_list[to_return].last\n          }\n        }\n      });\n      return to_return;\n    }\n  }, {\n    key: \"giveMeASong\",\n    value: function giveMeASong() {\n      var newsong = [];\n      var last = this.state.config.noteRange.first;\n      var first = this.state.config.noteRange.last;\n\n      if (this.state.config.instrumentName != 'random') {\n        last = instrument_list[this.state.config.instrumentName].first;\n        first = instrument_list[this.state.config.instrumentName].last;\n      }\n\n      for (var i = 0; i < 10; i++) {\n        var note_to_push = Math.floor(Math.random() * (last - first) + first); //duration selected\n\n        if (this.state.config.duration == 6) {\n          for (var j = 0; j < Math.floor(Math.random() * 5); j++) {\n            newsong.push([note_to_push]);\n          }\n        } else {\n          for (var k = 0; k < this.state.config.duration; k++) {\n            newsong.push([note_to_push]);\n          }\n        } //add random pause\n\n\n        if (Math.random() * (2 - 0) + 0 > 1) {\n          newsong.push([]);\n        }\n      }\n\n      this.setState({\n        song: newsong\n      });\n    }\n  }, {\n    key: \"restart\",\n    value: function restart() {\n      this.setState({\n        activeNotesIndex: 0\n      });\n      this.setState({\n        isPlaying: true\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.giveMeASong();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      if (prevState.isPlaying !== this.state.isPlaying) {\n        if (this.state.isPlaying) {\n          this.playbackIntervalFn = setInterval(function () {\n            _this2.setState({\n              activeNotesIndex: (_this2.state.activeNotesIndex + 1) % _this2.state.song.length\n            });\n          }, 200);\n        } else {\n          clearInterval(this.playbackIntervalFn);\n          this.setState({\n            activeNotesIndex: 0\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(SoundfontProvider, {\n        audioContext: audioContext,\n        instrumentName: this.state.config.instrumentName == 'random' ? this.randomInstrument() : this.state.config.instrumentName,\n        hostname: soundfontHostname,\n        render: function render(_ref) {\n          var isLoading = _ref.isLoading,\n              playNote = _ref.playNote,\n              stopNote = _ref.stopNote;\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 169\n            },\n            __self: this\n          }, React.createElement(DimensionsProvider, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 170\n            },\n            __self: this\n          }, function (_ref2) {\n            var containerWidth = _ref2.containerWidth;\n            return React.createElement(Piano, {\n              activeNotes: _this3.state.isPlaying ? _this3.state.song[_this3.state.activeNotesIndex] : [],\n              noteRange: _this3.state.config.noteRange,\n              playNote: playNote,\n              stopNote: stopNote,\n              disabled: isLoading,\n              width: containerWidth,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 172\n              },\n              __self: this\n            });\n          }), React.createElement(\"div\", {\n            className: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 184\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 185\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            style: {\n              margin: '10px '\n            },\n            className: classNames('btn', {\n              'btn-info': !_this3.state.isPlaying,\n              'btn-danger': _this3.state.isPlaying\n            }),\n            onClick: function onClick() {\n              return _this3.setPlaying(!_this3.state.isPlaying);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 186\n            },\n            __self: this\n          }, _this3.state.isPlaying ? 'Stop' : 'Start'), React.createElement(\"button\", {\n            style: {\n              margin: '10px '\n            },\n            className: classNames('btn', {\n              'btn-info': !_this3.state.isPlaying,\n              'btn-danger': _this3.state.isPlaying\n            }),\n            onClick: function onClick() {\n              return _this3.restart();\n            },\n            disabled: _this3.state.isPlaying,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 197\n            },\n            __self: this\n          }, 'restart'))), React.createElement(PianoConfig, {\n            config: _this3.state.config,\n            setConfig: function setConfig(config) {\n              _this3.setState({\n                config: Object.assign({}, _this3.state.config, config)\n              });\n            },\n            instrumentList: instrument_list || [_this3.state.config.instrumentName],\n            song: _this3.song,\n            duration: _this3.state.config.duration,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 211\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Keyboard;\n}(React.Component);\n\nexport default Keyboard;","map":{"version":3,"sources":["/Users/MS/Desktop/uni/stage/tiascolto/src/components/keyboard/Keyboard.js"],"names":["React","Piano","MidiNumbers","classNames","DimensionsProvider","SoundfontProvider","PianoConfig","audioContext","window","AudioContext","webkitAudioContext","soundfontHostname","instrument_list","ciao","random","first","fromNote","last","accordion","acoustic_grand_piano","acoustic_guitar_nylon","acoustic_guitar_steel","alto_sax","banjo","baritone_sax","bassoon","celesta","cello","church_organ","clarinet","contrabass","distortion_guitar","electric_guitar_clean","electric_piano_1","english_horn","flute","french_horn","glockenspiel","lead_1_square","lead_2_sawtooth","marimba","oboe","piccolo","recorder","soprano_sax","tenor_sax","timpani","trombone","trumpet","tuba","tubular_bells","vibraphone","viola","violin","xylophone","console","log","Keyboard","props","state","song","activeNotesIndex","isPlaying","config","duration","instrumentName","noteRange","setPlaying","value","giveMeASong","setState","playbackIntervalFn","to_return","Math","floor","length","newsong","i","note_to_push","j","push","k","prevProps","prevState","setInterval","clearInterval","randomInstrument","isLoading","playNote","stopNote","containerWidth","margin","restart","Object","assign","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Piano, MidiNumbers } from 'react-piano';\nimport 'react-piano/dist/styles.css';\nimport classNames from 'classnames';\nimport './Keyboard'\n\nimport DimensionsProvider from './DimensionsProvider';\nimport SoundfontProvider from './SoundfontProvider';\n\nimport PianoConfig from './PianoConfig';\n\n\nconst audioContext = new (window.AudioContext || window.webkitAudioContext)();\nconst soundfontHostname = 'https://d1pzp51pvbm36p.cloudfront.net';\n\nvar instrument_list = {\n  ciao : 2,\n  random                  : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  accordion               : {first : MidiNumbers.fromNote('f2')  , last: MidiNumbers.fromNote('a7') }, // F2 - A6\n  acoustic_grand_piano    : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  acoustic_guitar_nylon   : {first : MidiNumbers.fromNote('e2')  , last: MidiNumbers.fromNote('b6') }, // E2 - B6\n  acoustic_guitar_steel   : {first : MidiNumbers.fromNote('e2')  , last: MidiNumbers.fromNote('b6') }, // E2 - B6\n  alto_sax                : {first : MidiNumbers.fromNote('c#3') , last: MidiNumbers.fromNote('g#5')}, // C#3 - G#5 \n  banjo                   : {first : MidiNumbers.fromNote('c3')  , last: MidiNumbers.fromNote('a4') }, // C3 - A4\n  baritone_sax            : {first : MidiNumbers.fromNote('c#2') , last: MidiNumbers.fromNote('g#4')}, // C#2 - G#4\n  bassoon                 : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  celesta                 : {first : MidiNumbers.fromNote('c3')  , last: MidiNumbers.fromNote('f8') }, // C3 - F8\n  cello                   : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },      \n  church_organ            : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('c7') }, // C1 - C7\n  clarinet                : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  contrabass              : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  distortion_guitar       : {first : MidiNumbers.fromNote('e2')  , last: MidiNumbers.fromNote('b6') }, // E2 - B6\n  electric_guitar_clean   : {first : MidiNumbers.fromNote('e2')  , last: MidiNumbers.fromNote('b6') }, // E2 - B6\n  electric_piano_1        : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') }, \n  english_horn            : {first : MidiNumbers.fromNote('e3')  , last: MidiNumbers.fromNote('b5') }, // E3 - B5\n  flute                   : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  french_horn             : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') }, \n  glockenspiel            : {first : MidiNumbers.fromNote('f5')  , last: MidiNumbers.fromNote('d8') }, // F5 - D8\n  lead_1_square           : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') }, \n  lead_2_sawtooth         : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') }, \n  marimba                 : {first : MidiNumbers.fromNote('c2')  , last: MidiNumbers.fromNote('c7') }, // C2 - C7\n  oboe                    : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  piccolo                 : {first : MidiNumbers.fromNote('d5')  , last: MidiNumbers.fromNote('c8') }, // D5 - C8\n  recorder                : {first : MidiNumbers.fromNote('f3')  , last: MidiNumbers.fromNote('g6') }, // F3 - G6\n  soprano_sax             : {first : MidiNumbers.fromNote('g#3') , last: MidiNumbers.fromNote('d#6')}, // G#3 - D#6\n  tenor_sax               : {first : MidiNumbers.fromNote('g#2') , last: MidiNumbers.fromNote('d#6')}, // G#2 - D#6\n  timpani                 : {first : MidiNumbers.fromNote('b1')  , last: MidiNumbers.fromNote('c4') }, // B1 - C4\n  trombone                : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  trumpet                 : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  tuba                    : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  tubular_bells           : {first : MidiNumbers.fromNote('f3')  , last: MidiNumbers.fromNote('f5') }, // F3 - F5\n  vibraphone              : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  viola                   : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  violin                  : {first : MidiNumbers.fromNote('c1')  , last: MidiNumbers.fromNote('b7') },\n  xylophone               : {first : MidiNumbers.fromNote('f4') , last: MidiNumbers.fromNote('c8') } // F4 - C8\n};\n\nconsole.log(instrument_list)\n\n\nclass Keyboard extends React.Component {\n\n  state = {\n    song: [],\n    activeNotesIndex: 0,\n    isPlaying: false,\n    config: {\n      duration : 3,\n      instrumentName: 'acoustic_grand_piano',\n      noteRange: {\n        first: MidiNumbers.fromNote('c1'),\n        last: MidiNumbers.fromNote('b7'),\n      },\n    },\n  };\n\n  constructor(props) {\n    super(props);\n    this.playbackIntervalFn = null;\n  }\n\n  randomInstrument(){\n    let to_return = instrument_list[Math.floor(Math.random()* (instrument_list.length - 1)) + 1]\n    console.log(to_return)\n    this.setState({\n      config:{\n        noteRange: {\n        first: instrument_list[to_return].first,\n        last: instrument_list[to_return].last\n        }\n      }  \n    });\n    return to_return;\n  }\n\n  giveMeASong () {\n    let newsong = [];\n    let last = this.state.config.noteRange.first;\n    let first =this.state.config.noteRange.last;\n    if (this.state.config.instrumentName != 'random'){\n      last = instrument_list[this.state.config.instrumentName].first;\n      first = instrument_list[this.state.config.instrumentName].last;\n    } \n\n\n\n    for (var i = 0; i < 10; i++) {\n      let note_to_push = Math.floor(Math.random() * (last - first) + first)\n      //duration selected\n      if (this.state.config.duration == 6) {\n        for (var j = 0; j < Math.floor(Math.random() * 5); j++) {\n          newsong.push([note_to_push]);\n        }\n      }else {\n        for (var k = 0; k < this.state.config.duration; k++) {\n          newsong.push([note_to_push]);\n        }\n      }\n      //add random pause\n      if (Math.random() * (2 - 0) + 0 > 1){\n        newsong.push([]);\n      }\n    }\n    this.setState({song: newsong})\n  }\n\n  \n  restart(){\n    this.setState({\n      activeNotesIndex: 0,\n    });\n    this.setState({ isPlaying: true });\n  }\n\n  setPlaying = (value) => {\n    if (value) { this.giveMeASong(); }\n    this.setState({ isPlaying: value });\n  };\n\n  componentDidMount(){\n    this.giveMeASong();\n  }\n\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.isPlaying !== this.state.isPlaying) {\n      if (this.state.isPlaying) {\n        this.playbackIntervalFn = setInterval(() => {\n          this.setState({\n            activeNotesIndex: (this.state.activeNotesIndex + 1) % this.state.song.length,\n          });\n        }, 200);\n      } else {\n        clearInterval(this.playbackIntervalFn);\n        this.setState({\n          activeNotesIndex: 0,\n        });\n      }\n    }\n  }\n\n  render() {\n    return (\n      <SoundfontProvider\n      audioContext={audioContext}\n      instrumentName={this.state.config.instrumentName == 'random' ? this.randomInstrument() : this.state.config.instrumentName}\n      hostname={soundfontHostname}\n      render={({ isLoading, playNote, stopNote }) => (\n        <div>\n        <DimensionsProvider >\n        {({ containerWidth }) => (\n          <Piano\n          activeNotes={\n            this.state.isPlaying ? this.state.song[this.state.activeNotesIndex] : []\n          }\n          noteRange={this.state.config.noteRange}\n          playNote={playNote}\n          stopNote={stopNote}\n          disabled={isLoading}\n          width={containerWidth}\n          />\n          )}\n        </DimensionsProvider>\n        <div className=\"text-center\">\n        <div>\n        <button\n        style = {{ margin : '10px '}}\n        className={classNames('btn', {\n          'btn-info': !this.state.isPlaying,\n          'btn-danger': this.state.isPlaying,\n        })}\n        onClick={() => this.setPlaying(!this.state.isPlaying)}\n        >\n        {this.state.isPlaying ? 'Stop' : 'Start'}\n        </button>\n\n        <button\n        style = {{ margin : '10px '}}\n        className={classNames('btn', {\n          'btn-info': !this.state.isPlaying,\n          'btn-danger': this.state.isPlaying,\n        })}\n        onClick={() => this.restart()}\n        disabled={this.state.isPlaying}\n        >\n        {'restart' }\n        </button>\n\n        </div>\n        </div>\n        <PianoConfig\n        config={this.state.config}\n        setConfig={(config) => {\n          this.setState({\n            config: Object.assign({}, this.state.config, config),\n          });\n        }}\n        instrumentList={instrument_list || [this.state.config.instrumentName]}\n        song={this.song}\n        duration = {this.state.config.duration}\n        />\n        </div>\n        )}\n      />\n\n      );\n  }\n}\n\nexport default Keyboard;\n\n"]},"metadata":{},"sourceType":"module"}