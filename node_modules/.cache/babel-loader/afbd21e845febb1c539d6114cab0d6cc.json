{"ast":null,"code":"import _classCallCheck from \"/Users/albertobarberis/Desktop/CSI/USI/TIASCOLTO_SIMONE/tiascolto 2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/albertobarberis/Desktop/CSI/USI/TIASCOLTO_SIMONE/tiascolto 2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/albertobarberis/Desktop/CSI/USI/TIASCOLTO_SIMONE/tiascolto 2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/albertobarberis/Desktop/CSI/USI/TIASCOLTO_SIMONE/tiascolto 2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/albertobarberis/Desktop/CSI/USI/TIASCOLTO_SIMONE/tiascolto 2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/albertobarberis/Desktop/CSI/USI/TIASCOLTO_SIMONE/tiascolto 2/src/components/keyboard/Keyboard.js\";\nimport React from 'react';\nimport { Piano, MidiNumbers } from 'react-piano'; // import 'react-piano/dist/styles.css';\n\nimport classNames from 'classnames';\nimport DimensionsProvider from './DimensionsProvider';\nimport SoundfontProvider from './SoundfontProvider';\nimport PianoConfig from './PianoConfig';\nimport './Keyboard.css';\nimport './Keyboard_less.css';\nvar audioContext = new (window.AudioContext || window.webkitAudioContext)();\nvar soundfontHostname = 'https://d1pzp51pvbm36p.cloudfront.net';\nvar instrument_list_r = [\"oboe\", // Bb3 - G6\n\"piccolo\"];\nvar instrument_list = [{\n  value: 'accordion',\n  label: 'accordion',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('f2'),\n    last: MidiNumbers.fromNote('a7')\n  }\n}, // F2 - A6\n{\n  value: 'acoustic_grand_piano',\n  label: 'grand piano',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('a0'),\n    last: MidiNumbers.fromNote('c8')\n  }\n}, // A0 - C8\n{\n  value: 'acoustic_guitar_nylon',\n  label: 'classical guitar',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('b6')\n  }\n}, // E2 - B6\n{\n  value: 'acoustic_guitar_steel',\n  label: 'acoustic guitar',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('b6')\n  }\n}, // E2 - B6\n{\n  value: 'alto_sax',\n  label: 'alto_sax',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c3#'),\n    last: MidiNumbers.fromNote('g5')\n  }\n}, // C#3 - G#5 \n{\n  value: 'banjo',\n  label: 'banjo',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c3'),\n    last: MidiNumbers.fromNote('a4')\n  }\n}, // C3 - A4\n{\n  value: 'baritone_sax',\n  label: 'baritone sax',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c2#'),\n    last: MidiNumbers.fromNote('g4')\n  }\n}, // C#2 - G#4\n{\n  value: 'bassoon',\n  label: 'bassoon',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('b1'),\n    last: MidiNumbers.fromNote('e5')\n  }\n}, // Bb1 - Eb5 \n{\n  value: 'celesta',\n  label: 'celesta',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c3'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, // C3 - F8\n{\n  value: 'cello',\n  label: 'cello',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c2'),\n    last: MidiNumbers.fromNote('a5')\n  }\n}, // C2 - A5   \n{\n  value: 'church_organ',\n  label: 'church organ',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('c7')\n  }\n}, // C1 - C7\n{\n  value: 'clarinet',\n  label: 'clarinet',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('d3'),\n    last: MidiNumbers.fromNote('b6')\n  }\n}, // D3 - Bb6\n{\n  value: 'contrabass',\n  label: 'contrabass',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('e1'),\n    last: MidiNumbers.fromNote('g4')\n  }\n}, // E1 - G4\n{\n  value: 'distortion_guitar',\n  label: 'distortion guitar',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('b6')\n  }\n}, // E2 - B6\n{\n  value: 'electric_guitar_clean',\n  label: 'electric guitar',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('b6')\n  }\n}, // E2 - B6\n{\n  value: 'electric_piano_1',\n  label: 'electric piano ',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('a0'),\n    last: MidiNumbers.fromNote('c8')\n  }\n}, {\n  value: 'english_horn',\n  label: 'english horn',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('e3'),\n    last: MidiNumbers.fromNote('b5')\n  }\n}, // E3 - B5\n{\n  value: 'flute',\n  label: 'flute',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('b3'),\n    last: MidiNumbers.fromNote('d7')\n  }\n}, // B3 - D7\n{\n  value: 'french_horn',\n  label: 'horn',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('b1'),\n    last: MidiNumbers.fromNote('f5')\n  }\n}, // B1 - F5\n{\n  value: 'glockenspiel',\n  label: 'glockenspiel',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('f5'),\n    last: MidiNumbers.fromNote('d8')\n  }\n}, // F5 - D8\n{\n  value: 'lead_1_square',\n  label: 'lead 1 square',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'lead_2_sawtooth',\n  label: 'lead 2 sawtooth',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c1'),\n    last: MidiNumbers.fromNote('b7')\n  }\n}, {\n  value: 'marimba',\n  label: 'marimba',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c2'),\n    last: MidiNumbers.fromNote('c7')\n  }\n}, // C2 - C7\n{\n  value: 'oboe',\n  label: 'oboe',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('b3'),\n    last: MidiNumbers.fromNote('g6')\n  }\n}, // Bb3 - G6\n{\n  value: 'piccolo',\n  label: 'piccolo',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('d5'),\n    last: MidiNumbers.fromNote('c8')\n  }\n}, // D5 - C8\n{\n  value: 'recorder',\n  label: 'recorder',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('f3'),\n    last: MidiNumbers.fromNote('g6')\n  }\n}, // F3 - G6\n{\n  value: 'soprano_sax',\n  label: 'soprano sax',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('g3#'),\n    last: MidiNumbers.fromNote('d6#')\n  }\n}, // G#3 - D6#\n{\n  value: 'tenor_sax',\n  label: 'tenor sax',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('g2#'),\n    last: MidiNumbers.fromNote('d6#')\n  }\n}, // G#2 - D#6\n{\n  value: 'timpani',\n  label: 'timpani',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('b1'),\n    last: MidiNumbers.fromNote('c4')\n  }\n}, // B1 - C4\n{\n  value: 'trombone',\n  label: 'trombone',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('e2'),\n    last: MidiNumbers.fromNote('f5')\n  }\n}, // E2 - F5\n{\n  value: 'trumpet',\n  label: 'trumpet',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('f3#'),\n    last: MidiNumbers.fromNote('c6')\n  }\n}, // F#3 - C6\n{\n  value: 'tuba',\n  label: 'tuba',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('d1'),\n    last: MidiNumbers.fromNote('g4')\n  }\n}, // D1 - G4\n{\n  value: 'tubular_bells',\n  label: 'tubular bells',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('f3'),\n    last: MidiNumbers.fromNote('f5')\n  }\n}, // F3 - F5\n{\n  value: 'vibraphone',\n  label: 'vibraphone',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('f3'),\n    last: MidiNumbers.fromNote('f6')\n  }\n}, // F3 - F6\n{\n  value: 'viola',\n  label: 'viola',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('c3'),\n    last: MidiNumbers.fromNote('a6')\n  }\n}, // C3 - A6\n{\n  value: 'violin',\n  label: 'violin',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('g3'),\n    last: MidiNumbers.fromNote('a7')\n  }\n}, // G3 - A7\n{\n  value: 'xylophone',\n  label: 'xylophone',\n  isFixed: true,\n  range: {\n    first: MidiNumbers.fromNote('f4'),\n    last: MidiNumbers.fromNote('c8')\n  } // F4 - C8\n\n}];\nvar mario = [[76], [73], [65], [76], [65], [40], [65], [76], [65], [40], [65], [72], [65], [76], [65], [40], [65], [79], [65], [40], [36], [67], [65], [40], [36], [72], [65], [40], [24], [67], [65], [40], [24], [64], [65], [40], [24], [69], [65], [40], [65], [71], [65], [40], [65], [70], [65], [69], [65], [40], [65], [67], [16], [76], [16], [79], [16], [81], [65], [40], [65], [77], [65], [79], [65], [40], [65], [76], [65], [40], [65], [72], [65], [74], [65], [71], [65], [40], [24], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [60], [65], [76], [65], [53], [65], [68], [65], [69], [65], [72], [65], [60], [65], [69], [65], [72], [65], [74], [65], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [55], [65], [76], [65], [40], [65], [84], [65], [40], [65], [84], [65], [84], [65], [55], [65], [40], [65], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [60], [65], [76], [65], [53], [65], [68], [65], [69], [65], [72], [65], [60], [65], [69], [65], [72], [65], [74], [65], [48], [65], [40], [65], [75], [24], [40], [65], [74], [24], [40], [65], [72], [24], [40], [42], [55], [42], [55], [42], [40], [42], [48], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [40], [42], [76], [42], [72], [42], [40], [42], [69], [42], [67], [42], [40], [42], [43], [42], [40], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [76], [42], [55], [42], [40], [24], [48], [42], [40], [24], [43], [42], [40], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [40], [42], [76], [42], [72], [42], [40], [42], [69], [42], [67], [42], [40], [42], [43], [42], [40], [42], [76], [42], [76], [42], [40], [42], [76], [42], [40], [42], [72], [42], [76], [42], [40], [42], [79], [42], [40], [36], [67], [42], [40], [36], [76], [42], [72], [42], [40], [42], [67], [42], [55], [42], [40], [42], [68], [42], [40], [42], [69], [42], [77], [42], [53], [42], [77], [42], [69], [42], [60], [42], [53], [42], [40], [42], [71], [16], [81], [16], [81], [16], [81], [16], [79], [16], [77], [16], [76], [42], [72], [42], [55], [42], [69], [42], [67], [42], [60], [42], [55], [42], [40], [42], [76], [42], [72], [42], [40], [42], [67], [42], [55], [42], [40], [42], [68], [42], [40], [42], [69], [42], [77], [42], [53], [42], [77], [42], [69], [42], [60], [42], [53], [42], [40], [42], [71], [42], [77], [42], [40], [42], [77], [42], [77], [16], [76], [16], [74], [16], [72], [42], [64], [42], [55], [42], [64], [42], [60], [42], [40], [36], [72], [42], [40], [24], [67], [42], [40], [24], [64], [24], [69], [16], [71], [16], [69], [16], [68], [24], [70], [24], [68], [24], [67], [42], [65], [42], [67], [48]];\n\nvar Keyboard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Keyboard, _React$Component);\n\n  function Keyboard(props) {\n    var _this;\n\n    _classCallCheck(this, Keyboard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Keyboard).call(this, props));\n    _this.state = {\n      showPitch: false,\n      stopAllNotes: function stopAllNotes() {\n        return console.warn('stopAllNotes not yet loaded');\n      },\n      playNote: true,\n      timeoutID: null,\n      instruments: [],\n      nextNote: [],\n      activeNotesIndex: -1,\n      isPlaying: false,\n      config: {\n        instrumentSet: ['acoustic_grand_piano'],\n        octaves: 1,\n        pauseTime: 0,\n        duration: 1,\n        intervals: [],\n        instrumentName: 'acoustic_grand_piano',\n        noteRange: {\n          first: MidiNumbers.fromNote('c1'),\n          last: MidiNumbers.fromNote('b7')\n        }\n      }\n    };\n\n    _this.setPlaying = function (value) {\n      var generate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      // console.log(\"active index\", this.state.activeNotesIndex);\n      // console.log(\"song\", this.props.song);\n      if (value) {\n        //clearTimeout(this.state.timeoutID);\n        if (generate) {\n          _this.generateSong();\n        } // if set playing then setTimeout with callback\n\n\n        var timeoutCallback = function timeoutCallback(playNote, nextCallback) {\n          var duration;\n\n          if (playNote) {\n            // console.log(\"note\",(new Date()).getSeconds())\n            var index = (_this.state.activeNotesIndex + 1) % _this.props.song.length; // set state to play note\n\n            _this.setState({\n              activeNotesIndex: index,\n              nextNote: _this.props.song[index]\n            }); // calculate duration\n\n\n            duration = _this.state.config.duration * 1000;\n          } else {\n            // console.log(\"pause\",(new Date()).getSeconds())\n            // set state to play pause\n            _this.setState({\n              nextNote: [-1]\n            }); // calculate duration\n\n\n            duration = _this.state.config.pauseTime * 1000;\n          }\n\n          _this.setState({\n            timeoutID: setTimeout(function () {\n              return nextCallback(!playNote, nextCallback);\n            }, duration)\n          });\n        };\n\n        _this.setState({\n          timeoutID: setTimeout(function () {\n            return timeoutCallback(true, timeoutCallback);\n          }, 0)\n        });\n      } else {\n        // otherwise clear timeout\n        clearTimeout(_this.state.timeoutID);\n\n        _this.state.stopAllNotes();\n\n        _this.setState({\n          activeNotesIndex: -1\n        });\n      }\n\n      _this.setState({\n        isPlaying: value,\n        playNote: true\n      });\n    };\n\n    _this.playbackIntervalFn = null;\n    return _this;\n  }\n\n  _createClass(Keyboard, [{\n    key: \"firstAndLastNote\",\n    value: function firstAndLastNote() {\n      var _this2 = this;\n\n      //if list is empty we use piano\n      if (this.state.config.instrumentSet.length == 0) {\n        return [MidiNumbers.fromNote('c1'), MidiNumbers.fromNote('b7')];\n      }\n\n      var list = instrument_list.filter(function (value) {\n        return -1 !== _this2.state.config.instrumentSet.indexOf(value['value']);\n      });\n      var min = list.reduce(function (min, value) {\n        return value['range']['first'] < min ? value['range']['first'] : min;\n      }, list[0]['range']['first']); // console.log(\"min : \", min);\n\n      var max = list.reduce(function (max, value) {\n        return value['range']['last'] > max ? value['range']['last'] : max;\n      }, list[0]['range']['last']); // console.log(\"max : \", max);\n\n      return [min, max];\n    }\n  }, {\n    key: \"shuffle\",\n    value: function shuffle(a) {\n      for (var i = a.length - 1; i > 0; i--) {\n        var j = Math.floor(Math.random() * (i + 1));\n        var _ref = [a[j], a[i]];\n        a[i] = _ref[0];\n        a[j] = _ref[1];\n      }\n\n      return a;\n    }\n  }, {\n    key: \"getInstrumentFromNote\",\n    value: function getInstrumentFromNote(note) {\n      var instruments = this.shuffle(this.state.config.instrumentSet);\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        var _loop = function _loop() {\n          var instrument = _step.value;\n          instrument_data = instrument_list.filter(function (obj) {\n            return obj.value === instrument;\n          });\n\n          if (instrument_data[0].range.last >= note && instrument_data[0].range.first <= note) {\n            //  console.log(\"instrument_data\",instrument_data);\n            //  console.log(instrument_data[0].value)\n            // ALWAYS RETURN PIANOOOO\n            return {\n              v: instrument_data[0].value\n            };\n          }\n        };\n\n        for (var _iterator = instruments[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var instrument_data;\n\n          var _ret = _loop();\n\n          if (typeof _ret === \"object\") return _ret.v;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return instrument_list[1].value;\n    }\n  }, {\n    key: \"generateSong\",\n    value: function generateSong() {\n      var newsong = [];\n      var instruments = []; // //  extract the intervals \n\n      var keys = Object.keys(this.state.config.intervals); // //  extract the note range from instrumentSet\n\n      var range = this.firstAndLastNote(); // // extract octaves\n\n      var octave = Math.floor(Math.random() * this.state.config.octaves) + 1;\n      console.log(\"octave\", octave); // // select a random note between the first and the last\n\n      var startingNote = Math.floor(Math.random() * (range[1] - range[0]) + range[0]);\n      newsong.push([startingNote]); // // select an instument to play the note\n\n      instruments.push(this.getInstrumentFromNote(startingNote));\n\n      for (var i = 0; i < 8; i++) {\n        // jumping value\n        var interval_idx = Math.floor(Math.random() * this.state.config.intervals.length);\n        var randomJump = 7;\n\n        if (this.state.config.intervals.length > 0) {\n          randomJump = parseInt(this.state.config.intervals[interval_idx].value);\n        } // randomly add intervarls \n\n\n        if (Math.random() > 0.5) {\n          if (startingNote - randomJump < range[0]) {\n            startingNote += randomJump;\n            console.log(\"startingNote += randomJump\");\n          } else {\n            startingNote -= randomJump;\n            console.log(\"startingNote -= randomJump\");\n          }\n        } else {\n          if (startingNote + randomJump > range[1]) {\n            startingNote -= randomJump;\n            console.log(\"startingNote -= randomJump\");\n          } else {\n            startingNote += randomJump;\n            console.log(\"startingNote += randomJump\");\n          }\n        } // add octaves\n\n\n        newsong.push([startingNote]);\n        instruments.push(this.getInstrumentFromNote(startingNote));\n      } // console.log('instruments : ', instruments)\n\n\n      this.setState({\n        instruments: instruments\n      }); // console.log(instruments);\n      // console.log(newsong);\n\n      this.props.setSong(newsong);\n      this.setState({\n        activeNotesIndex: -1,\n        nextNote: []\n      });\n    }\n  }, {\n    key: \"restart\",\n    value: function restart() {\n      this.setPlaying(true, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: this.state.showPitch ? \"show\" : \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(SoundfontProvider, {\n        audioContext: audioContext,\n        instrumentName: this.state.config.instrumentSet.length == 0 ? \"acoustic_grand_piano\" : this.state.instruments[this.state.activeNotesIndex],\n        hostname: soundfontHostname,\n        onLoad: function onLoad(_ref2) {\n          var stopAllNotes = _ref2.stopAllNotes;\n          return _this3.setState({\n            stopAllNotes: stopAllNotes\n          });\n        },\n        render: function render(_ref3) {\n          var isLoading = _ref3.isLoading,\n              playNote = _ref3.playNote,\n              stopNote = _ref3.stopNote;\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 273\n            },\n            __self: this\n          }, React.createElement(DimensionsProvider, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 274\n            },\n            __self: this\n          }, function (_ref4) {\n            var containerWidth = _ref4.containerWidth;\n            return React.createElement(Piano, {\n              activeNotes: _this3.state.isPlaying ? _this3.state.nextNote : [],\n              noteRange: _this3.state.config.noteRange,\n              playNote: playNote,\n              stopNote: stopNote,\n              disabled: isLoading,\n              width: containerWidth,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 276\n              },\n              __self: this\n            });\n          }), React.createElement(PianoConfig, {\n            config: _this3.state.config,\n            setConfig: function setConfig(config) {\n              _this3.setState({\n                config: Object.assign({}, _this3.state.config, config)\n              });\n            },\n            setShow: function setShow(showPitch) {\n              return _this3.setState({\n                showPitch: showPitch\n              });\n            },\n            showPitch: _this3.state.showPitch,\n            pauseTime: _this3.state.config.pauseTime,\n            instrumentList: instrument_list,\n            instrumentSet: _this3.state.config.instrumentSet,\n            instrumentName: _this3.state.config.instrumentSet.length == 0 ? \"acoustic_grand_piano\" : _this3.state.instruments[_this3.state.activeNotesIndex],\n            song: _this3.props.song,\n            activeNotesIndex: _this3.state.activeNotesIndex,\n            duration: _this3.state.config.duration,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 288\n            },\n            __self: this\n          }), React.createElement(\"hr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 308\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"form-row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 310\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"col-6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 312\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            className: classNames('btn-block', {\n              'btn-info': !_this3.state.isPlaying,\n              'btn-danger': _this3.state.isPlaying\n            }),\n            onClick: function onClick() {\n              return _this3.setPlaying(!_this3.state.isPlaying);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 313\n            },\n            __self: this\n          }, _this3.state.isPlaying ? 'stop' : 'start')), React.createElement(\"div\", {\n            className: \"col-6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 325\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            className: classNames('btn-block', {\n              'btn-info': !_this3.state.isPlaying,\n              'btn-danger': _this3.state.isPlaying\n            }),\n            onClick: function onClick() {\n              return _this3.restart();\n            },\n            disabled: _this3.state.isPlaying,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 326\n            },\n            __self: this\n          }, 'restart'))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Keyboard;\n}(React.Component);\n\nexport default Keyboard;","map":{"version":3,"sources":["/Users/albertobarberis/Desktop/CSI/USI/TIASCOLTO_SIMONE/tiascolto 2/src/components/keyboard/Keyboard.js"],"names":["React","Piano","MidiNumbers","classNames","DimensionsProvider","SoundfontProvider","PianoConfig","audioContext","window","AudioContext","webkitAudioContext","soundfontHostname","instrument_list_r","instrument_list","value","label","isFixed","range","first","fromNote","last","mario","Keyboard","props","state","showPitch","stopAllNotes","console","warn","playNote","timeoutID","instruments","nextNote","activeNotesIndex","isPlaying","config","instrumentSet","octaves","pauseTime","duration","intervals","instrumentName","noteRange","setPlaying","generate","generateSong","timeoutCallback","nextCallback","index","song","length","setState","setTimeout","clearTimeout","playbackIntervalFn","list","filter","indexOf","min","reduce","max","a","i","j","Math","floor","random","note","shuffle","instrument","instrument_data","obj","newsong","keys","Object","firstAndLastNote","octave","log","startingNote","push","getInstrumentFromNote","interval_idx","randomJump","parseInt","setSong","isLoading","stopNote","containerWidth","assign","restart","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Piano, MidiNumbers } from 'react-piano';\n// import 'react-piano/dist/styles.css';\nimport classNames from 'classnames';\nimport DimensionsProvider from './DimensionsProvider';\nimport SoundfontProvider from './SoundfontProvider';\nimport PianoConfig from './PianoConfig';\n\nimport './Keyboard.css';\nimport './Keyboard_less.css'; \n\n\nconst audioContext = new (window.AudioContext || window.webkitAudioContext)();\nconst soundfontHostname = 'https://d1pzp51pvbm36p.cloudfront.net';\n\nconst instrument_list_r= [\n  \"oboe\", // Bb3 - G6\n  \"piccolo\", // D5 - C8\n\n\n] \nvar instrument_list = [\n  { value: 'accordion', label: 'accordion', isFixed: true, range:                           { first: MidiNumbers.fromNote('f2'), last: MidiNumbers.fromNote('a7') } }, // F2 - A6\n  { value: 'acoustic_grand_piano', label: 'grand piano', isFixed: true, range:              { first: MidiNumbers.fromNote('a0'), last: MidiNumbers.fromNote('c8') } }, // A0 - C8\n  { value: 'acoustic_guitar_nylon', label: 'classical guitar', isFixed: true, range:        { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('b6') } }, // E2 - B6\n  { value: 'acoustic_guitar_steel', label: 'acoustic guitar', isFixed: true, range:         { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('b6') } }, // E2 - B6\n  { value: 'alto_sax', label: 'alto_sax', isFixed: true, range:                             { first: MidiNumbers.fromNote('c3#'), last: MidiNumbers.fromNote('g5') } }, // C#3 - G#5 \n  { value: 'banjo', label: 'banjo', isFixed: true, range:                                   { first: MidiNumbers.fromNote('c3'), last: MidiNumbers.fromNote('a4') } }, // C3 - A4\n  { value: 'baritone_sax', label: 'baritone sax', isFixed: true, range:                     { first: MidiNumbers.fromNote('c2#'), last: MidiNumbers.fromNote('g4') } }, // C#2 - G#4\n  { value: 'bassoon', label: 'bassoon', isFixed: true, range:                               { first: MidiNumbers.fromNote('b1'), last: MidiNumbers.fromNote('e5') } },// Bb1 - Eb5 \n  { value: 'celesta', label: 'celesta', isFixed: true, range:                               { first: MidiNumbers.fromNote('c3'), last: MidiNumbers.fromNote('b7') } }, // C3 - F8\n  { value: 'cello', label: 'cello', isFixed: true, range:                                   { first: MidiNumbers.fromNote('c2'), last: MidiNumbers.fromNote('a5') } }, // C2 - A5   \n  { value: 'church_organ', label: 'church organ', isFixed: true, range:                     { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('c7') } }, // C1 - C7\n  { value: 'clarinet', label: 'clarinet', isFixed: true, range:                             { first: MidiNumbers.fromNote('d3'), last: MidiNumbers.fromNote('b6') } }, // D3 - Bb6\n  { value: 'contrabass', label: 'contrabass', isFixed: true, range:                         { first: MidiNumbers.fromNote('e1'), last: MidiNumbers.fromNote('g4') } }, // E1 - G4\n  { value: 'distortion_guitar', label: 'distortion guitar', isFixed: true, range:           { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('b6') } }, // E2 - B6\n  { value: 'electric_guitar_clean', label: 'electric guitar', isFixed: true, range:         { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('b6') } }, // E2 - B6\n  { value: 'electric_piano_1', label: 'electric piano ', isFixed: true, range:              { first: MidiNumbers.fromNote('a0'), last: MidiNumbers.fromNote('c8') } },\n  { value: 'english_horn', label: 'english horn', isFixed: true, range:                     { first: MidiNumbers.fromNote('e3'), last: MidiNumbers.fromNote('b5') } }, // E3 - B5\n  { value: 'flute', label: 'flute', isFixed: true, range:                                   { first: MidiNumbers.fromNote('b3'), last: MidiNumbers.fromNote('d7') } }, // B3 - D7\n  { value: 'french_horn', label: 'horn', isFixed: true, range:                              { first: MidiNumbers.fromNote('b1'), last: MidiNumbers.fromNote('f5') } }, // B1 - F5\n  { value: 'glockenspiel', label: 'glockenspiel', isFixed: true, range:                     { first: MidiNumbers.fromNote('f5'), last: MidiNumbers.fromNote('d8') } }, // F5 - D8\n  { value: 'lead_1_square', label: 'lead 1 square', isFixed: true, range:                   { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'lead_2_sawtooth', label: 'lead 2 sawtooth', isFixed: true, range:               { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'marimba', label: 'marimba', isFixed: true, range:                               { first: MidiNumbers.fromNote('c2'), last: MidiNumbers.fromNote('c7') } }, // C2 - C7\n  { value: 'oboe', label: 'oboe', isFixed: true, range:                                     { first: MidiNumbers.fromNote('b3'), last: MidiNumbers.fromNote('g6') } }, // Bb3 - G6\n  { value: 'piccolo', label: 'piccolo', isFixed: true, range:                               { first: MidiNumbers.fromNote('d5'), last: MidiNumbers.fromNote('c8') } }, // D5 - C8\n  { value: 'recorder', label: 'recorder', isFixed: true, range:                             { first: MidiNumbers.fromNote('f3'), last: MidiNumbers.fromNote('g6') } }, // F3 - G6\n  { value: 'soprano_sax', label: 'soprano sax', isFixed: true, range:                       { first: MidiNumbers.fromNote('g3#'), last: MidiNumbers.fromNote('d6#') } }, // G#3 - D6#\n  { value: 'tenor_sax', label: 'tenor sax', isFixed: true, range:                           { first: MidiNumbers.fromNote('g2#'), last: MidiNumbers.fromNote('d6#') } }, // G#2 - D#6\n  { value: 'timpani', label: 'timpani', isFixed: true, range:                               { first: MidiNumbers.fromNote('b1'), last: MidiNumbers.fromNote('c4') } }, // B1 - C4\n  { value: 'trombone', label: 'trombone', isFixed: true, range:                             { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('f5') } }, // E2 - F5\n  { value: 'trumpet', label: 'trumpet', isFixed: true, range:                               { first: MidiNumbers.fromNote('f3#'), last: MidiNumbers.fromNote('c6') } }, // F#3 - C6\n  { value: 'tuba', label: 'tuba', isFixed: true, range:                                     { first: MidiNumbers.fromNote('d1'), last: MidiNumbers.fromNote('g4') } }, // D1 - G4\n  { value: 'tubular_bells', label: 'tubular bells', isFixed: true, range:                   { first: MidiNumbers.fromNote('f3'), last: MidiNumbers.fromNote('f5') } }, // F3 - F5\n  { value: 'vibraphone', label: 'vibraphone', isFixed: true, range:                         { first: MidiNumbers.fromNote('f3'), last: MidiNumbers.fromNote('f6') } }, // F3 - F6\n  { value: 'viola', label: 'viola', isFixed: true, range:                                   { first: MidiNumbers.fromNote('c3'), last: MidiNumbers.fromNote('a6') } }, // C3 - A6\n  { value: 'violin', label: 'violin', isFixed: true, range:                                 { first: MidiNumbers.fromNote('g3'), last: MidiNumbers.fromNote('a7') } }, // G3 - A7\n  { value: 'xylophone', label: 'xylophone', isFixed: true, range:                           { first: MidiNumbers.fromNote('f4'), last: MidiNumbers.fromNote('c8') } } // F4 - C8\n]\nvar mario = [\n  [76], [73], [65],\n  [76], [65], [40], [65], [76], [65], [40], [65], [72], [65], [76], [65], [40], [65], [79], [65], [40], [36], [67], [65], [40], [36], [72], [65], [40], [24], [67], [65], [40], [24], [64], [65], [40], [24], [69], [65], [40], [65], [71], [65], [40], [65], [70], [65], [69], [65], [40], [65], [67], [16], [76], [16], [79], [16], [81], [65], [40], [65], [77], [65], [79], [65], [40], [65], [76], [65], [40], [65], [72], [65], [74], [65], [71], [65], [40], [24], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [60], [65], [76], [65], [53], [65], [68], [65], [69], [65], [72], [65], [60], [65], [69], [65], [72], [65], [74], [65], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [55], [65], [76], [65], [40], [65], [84], [65], [40], [65], [84], [65], [84], [65], [55], [65], [40], [65], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [60], [65], [76], [65], [53], [65], [68], [65], [69], [65], [72], [65], [60], [65], [69], [65], [72], [65], [74], [65], [48], [65], [40], [65], [75], [24], [40], [65], [74], [24], [40], [65], [72], [24], [40], [42], [55], [42], [55], [42], [40], [42], [48], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [40], [42], [76], [42], [72], [42], [40], [42], [69], [42], [67], [42], [40], [42], [43], [42], [40], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [76], [42], [55], [42], [40], [24], [48], [42], [40], [24], [43], [42], [40], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [40], [42], [76], [42], [72], [42], [40], [42], [69], [42], [67], [42], [40], [42], [43], [42], [40], [42], [76], [42], [76], [42], [40], [42], [76], [42], [40], [42], [72], [42], [76], [42], [40], [42], [79], [42], [40], [36], [67], [42], [40], [36], [76], [42], [72], [42], [40], [42], [67], [42], [55], [42], [40], [42], [68], [42], [40], [42], [69], [42], [77], [42], [53], [42], [77], [42], [69], [42], [60], [42], [53], [42], [40], [42], [71], [16], [81], [16], [81], [16], [81], [16], [79], [16], [77], [16], [76], [42], [72], [42], [55], [42], [69], [42], [67], [42], [60], [42], [55], [42], [40], [42], [76], [42], [72], [42], [40], [42], [67], [42], [55], [42], [40], [42], [68], [42], [40], [42], [69], [42], [77], [42], [53], [42], [77], [42], [69], [42], [60], [42], [53], [42], [40], [42], [71], [42], [77], [42], [40], [42], [77], [42], [77], [16], [76], [16], [74], [16], [72], [42], [64], [42], [55], [42], [64], [42], [60], [42], [40], [36], [72], [42], [40], [24], [67], [42], [40], [24], [64], [24], [69], [16], [71], [16], [69], [16], [68], [24], [70], [24], [68], [24], [67], [42], [65], [42], [67], [48]\n];\n\nclass Keyboard extends React.Component {\n  state = {\n    showPitch:false,\n    stopAllNotes: () => console.warn('stopAllNotes not yet loaded'),\n    playNote: true,\n    timeoutID: null,\n    instruments: [],\n    nextNote: [],\n    activeNotesIndex: -1,\n    isPlaying: false,\n    config: {\n      instrumentSet: ['acoustic_grand_piano'],\n      octaves: 1,\n      pauseTime: 0,\n      duration: 1,\n      intervals: [],\n      instrumentName: 'acoustic_grand_piano',\n      noteRange: {\n        first: MidiNumbers.fromNote('c1'),\n        last: MidiNumbers.fromNote('b7'),\n      },\n    },\n  };\n\n  constructor(props) {\n    super(props);\n    this.playbackIntervalFn = null;\n  };\n\n  firstAndLastNote() {\n    //if list is empty we use piano\n    if (this.state.config.instrumentSet.length == 0) {\n      return [MidiNumbers.fromNote('c1'), MidiNumbers.fromNote('b7')]\n    }\n    let list = instrument_list.filter(value => -1 !== this.state.config.instrumentSet.indexOf(value['value']));\n\n    let min = list.reduce((min, value) => value['range']['first'] < min ? value['range']['first'] : min, list[0]['range']['first']);\n    // console.log(\"min : \", min);\n\n    let max = list.reduce((max, value) => value['range']['last'] > max ? value['range']['last'] : max, list[0]['range']['last']);\n    // console.log(\"max : \", max);\n\n    return [min, max];\n  }\n\n  shuffle(a) {\n    for (let i = a.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [a[i], a[j]] = [a[j], a[i]];\n    }\n    return a;\n  }\n\n  getInstrumentFromNote(note) {\n    let instruments = this.shuffle(this.state.config.instrumentSet);\n\n    for (let instrument of instruments) {\n      var instrument_data = instrument_list.filter(obj => {\n        return obj.value === instrument\n      })\n      if (instrument_data[0].range.last >= note && instrument_data[0].range.first <= note) {\n        //  console.log(\"instrument_data\",instrument_data);\n        //  console.log(instrument_data[0].value)\n        // ALWAYS RETURN PIANOOOO\n        return instrument_data[0].value\n      }\n    }\n\n    return instrument_list[1].value;\n  }\n\n  generateSong() {\n    const newsong = [];\n    const instruments = [];\n\n    // //  extract the intervals \n    var keys = Object.keys(this.state.config.intervals)\n\n    // //  extract the note range from instrumentSet\n    let range = this.firstAndLastNote();\n\n    // // extract octaves\n    let octave = Math.floor(Math.random() * this.state.config.octaves) + 1;\n    console.log(\"octave\",octave)\n\n    // // select a random note between the first and the last\n    let startingNote = Math.floor(Math.random() * (range[1] - range[0]) + range[0])\n    newsong.push([startingNote]);\n\n    // // select an instument to play the note\n    instruments.push(this.getInstrumentFromNote(startingNote));\n\n    for (let i = 0; i < 8; i++) {\n      // jumping value\n      let interval_idx = Math.floor(Math.random() * this.state.config.intervals.length);\n      let randomJump = 7;\n      if (this.state.config.intervals.length > 0) {\n        randomJump = parseInt(this.state.config.intervals[interval_idx].value);\n      }\n\n      // randomly add intervarls \n      if (Math.random() > 0.5) {\n        if (startingNote - randomJump < range[0]) {\n          startingNote += randomJump\n          console.log(\"startingNote += randomJump\")\n        } else {\n          startingNote -= randomJump\n          console.log(\"startingNote -= randomJump\")\n        }\n      }\n      else {\n        if (startingNote + randomJump > range[1]) {\n          startingNote -= randomJump\n          console.log(\"startingNote -= randomJump\")\n        } else {\n          startingNote += randomJump\n          console.log(\"startingNote += randomJump\")\n        }\n      }\n\n      // add octaves\n\n\n      newsong.push([startingNote]);\n      instruments.push(this.getInstrumentFromNote(startingNote));\n    }\n    // console.log('instruments : ', instruments)\n    this.setState({\n      instruments: instruments\n    })\n\n    // console.log(instruments);\n    // console.log(newsong);\n\n    this.props.setSong(newsong);\n    this.setState({ activeNotesIndex: -1, nextNote: [] });\n  };\n\n\n  restart() {\n    this.setPlaying(true, false);\n  };\n\n  setPlaying = (value, generate = true) => {\n    // console.log(\"active index\", this.state.activeNotesIndex);\n    // console.log(\"song\", this.props.song);\n    if (value) {\n      //clearTimeout(this.state.timeoutID);\n      if (generate) {\n        this.generateSong();\n      }\n      // if set playing then setTimeout with callback\n      const timeoutCallback = (playNote, nextCallback) => {\n        let duration;\n        if (playNote) {\n          // console.log(\"note\",(new Date()).getSeconds())\n          const index = (this.state.activeNotesIndex + 1) % this.props.song.length;\n          // set state to play note\n          this.setState({\n            activeNotesIndex: index,\n            nextNote: this.props.song[index],\n          })\n          // calculate duration\n          duration = this.state.config.duration * 1000\n        } else {\n          // console.log(\"pause\",(new Date()).getSeconds())\n          // set state to play pause\n          this.setState({\n            nextNote: [-1],\n          })\n          // calculate duration\n          duration = this.state.config.pauseTime * 1000\n\n        }\n        this.setState({\n          timeoutID: setTimeout(() => nextCallback(!playNote, nextCallback), duration)\n        });\n      }\n\n      this.setState({\n        timeoutID: setTimeout(() => timeoutCallback(true, timeoutCallback), 0)\n      });\n\n    } else {\n      // otherwise clear timeout\n      clearTimeout(this.state.timeoutID);\n      this.state.stopAllNotes();\n      this.setState({\n        activeNotesIndex: -1,\n      });\n    }\n\n    this.setState({\n      isPlaying: value,\n      playNote: true\n    });\n  };\n\n  render() {\n    return (\n      <div className={this.state.showPitch ? \"show\" : \"\"}>\n      <SoundfontProvider\n        audioContext={audioContext}\n        instrumentName={(this.state.config.instrumentSet.length == 0) ? \"acoustic_grand_piano\" : this.state.instruments[this.state.activeNotesIndex]}\n        hostname={soundfontHostname}\n        onLoad={({ stopAllNotes }) => this.setState({ stopAllNotes })}\n        render={({ isLoading, playNote, stopNote }) => (\n          <div>\n            <DimensionsProvider >\n              {({ containerWidth }) => (\n                <Piano\n                  activeNotes={\n                    this.state.isPlaying ? this.state.nextNote : []\n                  }\n                  noteRange={this.state.config.noteRange}\n                  playNote={playNote}\n                  stopNote={stopNote}\n                  disabled={isLoading}\n                  width={containerWidth}\n                />\n              )}\n            </DimensionsProvider>\n            <PianoConfig\n              config={this.state.config}\n              setConfig={(config) => {\n                this.setState({\n                  config: Object.assign({}, this.state.config, config),\n                });\n              }}\n              setShow={(showPitch) => \n                this.setState({\n                showPitch \n              })}\n              showPitch={this.state.showPitch}\n              pauseTime={this.state.config.pauseTime}\n              instrumentList={instrument_list}\n              instrumentSet={this.state.config.instrumentSet}\n              instrumentName={(this.state.config.instrumentSet.length == 0) ? \"acoustic_grand_piano\" : this.state.instruments[this.state.activeNotesIndex]}\n              song={this.props.song}\n              activeNotesIndex={this.state.activeNotesIndex}\n              duration={this.state.config.duration}\n            />\n            <hr />\n\n            <div className=\"form-row\">\n              \n                <div className=\"col-6\">\n                <button \n                 \n                  className={classNames('btn-block', {\n                    'btn-info': !this.state.isPlaying,\n                    'btn-danger': this.state.isPlaying,\n                  })}\n                  onClick={() => this.setPlaying(!this.state.isPlaying)}\n                >\n                  {this.state.isPlaying ? 'stop' : 'start'}\n                </button>\n                </div>\n\n                <div className=\"col-6\">\n                <button\n                  \n                  className={classNames('btn-block', {\n                    'btn-info': !this.state.isPlaying,\n                    'btn-danger': this.state.isPlaying,\n                  })}\n                  onClick={() => this.restart()}\n                  disabled={this.state.isPlaying}\n                >\n                  {'restart'}\n                </button>\n                </div>\n              \n            </div>\n\n          </div>\n        )}\n      />\n      </div>\n    );\n\n  };\n\n}\n\nexport default Keyboard;\n\n"]},"metadata":{},"sourceType":"module"}