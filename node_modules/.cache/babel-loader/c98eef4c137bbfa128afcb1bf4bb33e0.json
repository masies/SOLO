{"ast":null,"code":"import _objectWithoutProperties from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/MS/Desktop/uni/stage/tiascolto/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/MS/Desktop/uni/stage/tiascolto/src/components/keyboard/PianoConfig.js\";\nimport React from 'react';\nimport Select from 'react-select';\nimport makeAnimated from 'react-select/lib/animated';\nimport { MidiNumbers } from 'react-piano';\nimport { Checkbox, CheckboxGroup } from 'react-checkbox-group';\nimport Slider, { createSliderWithTooltip } from 'rc-slider';\nvar SliderWithTooltip = createSliderWithTooltip(Slider);\n\nvar CustomizedSlider =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CustomizedSlider, _React$Component);\n\n  function CustomizedSlider(props) {\n    var _this;\n\n    _classCallCheck(this, CustomizedSlider);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CustomizedSlider).call(this, props));\n\n    _this.onSliderChange = function (value) {\n      log(value);\n\n      _this.setState({\n        value: value\n      });\n    };\n\n    _this.onAfterChange = function (value) {\n      console.log(value); //eslint-disable-line\n    };\n\n    _this.state = {\n      value: 50\n    };\n    return _this;\n  }\n\n  _createClass(CustomizedSlider, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Slider, {\n        value: this.state.value,\n        onChange: this.onSliderChange,\n        onAfterChange: this.onAfterChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return CustomizedSlider;\n}(React.Component);\n\nvar DynamicBounds =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(DynamicBounds, _React$Component2);\n\n  function DynamicBounds(props) {\n    var _this2;\n\n    _classCallCheck(this, DynamicBounds);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(DynamicBounds).call(this, props));\n\n    _this2.onSliderChange = function (value) {\n      log(value);\n    };\n\n    _this2.onMinChange = function (e) {\n      _this2.setState({\n        min: +e.target.value || 0\n      });\n    };\n\n    _this2.onMaxChange = function (e) {\n      _this2.setState({\n        max: +e.target.value || 100\n      });\n    };\n\n    _this2.state = {\n      min: 0,\n      max: 100\n    };\n    return _this2;\n  }\n\n  _createClass(DynamicBounds, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Min: \"), React.createElement(\"input\", {\n        type: \"number\",\n        value: this.state.min,\n        onChange: this.onMinChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Max: \"), React.createElement(\"input\", {\n        type: \"number\",\n        value: this.state.max,\n        onChange: this.onMaxChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(Slider, {\n        defaultValue: 50,\n        min: this.state.min,\n        max: this.state.max,\n        onChange: this.onSliderChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return DynamicBounds;\n}(React.Component);\n\nvar intervals = [{\n  value: \"12\",\n  label: '8p ',\n  isFixed: true\n}, {\n  value: \"11\",\n  label: '7+ ',\n  isFixed: true\n}, {\n  value: \"10\",\n  label: '7- ',\n  isFixed: true\n}, {\n  value: \"9\",\n  label: '6+ ',\n  isFixed: true\n}, {\n  value: \"8\",\n  label: '6- ',\n  isFixed: true\n}, {\n  value: \"7\",\n  label: '5p ',\n  isFixed: true\n}, {\n  value: \"6\",\n  label: 'tr ',\n  isFixed: true\n}, {\n  value: \"5\",\n  label: '4p ',\n  isFixed: true\n}, {\n  value: \"4\",\n  label: '3+ ',\n  isFixed: true\n}, {\n  value: \"3\",\n  label: '3- ',\n  isFixed: true\n}, {\n  value: \"2\",\n  label: '2+ ',\n  isFixed: true\n}, {\n  value: \"1\",\n  label: '2- ',\n  isFixed: true\n}];\n\nfunction Label(props) {\n  return React.createElement(\"small\", {\n    className: \"mb-1 text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, props.children);\n}\n\nvar AutoblurSelect =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(AutoblurSelect, _React$Component3);\n\n  function AutoblurSelect(props) {\n    var _this3;\n\n    _classCallCheck(this, AutoblurSelect);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(AutoblurSelect).call(this, props));\n\n    _this3.onChange = function (event) {\n      _this3.props.onChange(event);\n\n      _this3.selectRef.current.blur();\n    };\n\n    _this3.selectRef = React.createRef();\n    return _this3;\n  }\n\n  _createClass(AutoblurSelect, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          onChange = _this$props.onChange,\n          otherProps = _objectWithoutProperties(_this$props, [\"children\", \"onChange\"]);\n\n      return React.createElement(\"select\", Object.assign({}, otherProps, {\n        onChange: this.onChange,\n        ref: this.selectRef,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), children);\n    }\n  }]);\n\n  return AutoblurSelect;\n}(React.Component);\n\nvar PianoConfig =\n/*#__PURE__*/\nfunction (_React$Component4) {\n  _inherits(PianoConfig, _React$Component4);\n\n  function PianoConfig() {\n    var _getPrototypeOf2;\n\n    var _this4;\n\n    _classCallCheck(this, PianoConfig);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this4 = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PianoConfig)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this4.state = {\n      showInstrument: false,\n      showPitch: false\n    };\n\n    _this4.intervalsChanged = function (newIntervals) {\n      _this4.props.setConfig({\n        intervals: newIntervals\n      });\n    };\n\n    _this4.onChangeFirstNote = function (event) {\n      _this4.props.setConfig({\n        noteRange: {\n          first: parseInt(event.target.value, 10),\n          last: _this4.props.config.noteRange.last\n        }\n      });\n    };\n\n    _this4.onChangeLastNote = function (event) {\n      _this4.props.setConfig({\n        noteRange: {\n          first: _this4.props.config.noteRange.first,\n          last: parseInt(event.target.value, 10)\n        }\n      });\n    };\n\n    _this4.onChangeOctaves = function (event) {\n      _this4.props.setConfig({\n        octaves: event.target.value\n      });\n    };\n\n    _this4.onChangeDuration = function (event) {\n      _this4.props.setConfig({\n        duration: event.target.value\n      });\n    };\n\n    _this4.onChangePauseTime = function (event) {\n      _this4.props.setConfig({\n        pauseTime: event.target.value\n      });\n    };\n\n    _this4.onChangeInstrument = function (event) {\n      _this4.props.setConfig({\n        instrumentName: event.value,\n        noteRange: {\n          first: event.range['first'],\n          last: event.range['last']\n        }\n      });\n    };\n\n    _this4.onChangeInstrumentSet = function (event) {\n      console.log(event.length);\n\n      _this4.props.setConfig({\n        instrumentSet: event.length > 0 ? event.map(function (value) {\n          return value['value'];\n        }) : [\"acoustic_grand_piano\"]\n      });\n\n      console.log(_this4.props.config.instrumentSet);\n    };\n\n    _this4.showInstrument = function (event) {\n      _this4.setState({\n        showInstrument: !_this4.state.showInstrument\n      });\n    };\n\n    _this4.showPitch = function (event) {\n      _this4.setState({\n        showPitch: !_this4.state.showPitch\n      });\n    };\n\n    return _this4;\n  }\n\n  _createClass(PianoConfig, [{\n    key: \"render\",\n    value: function render() {\n      var style_font_size = {\n        fontSize: \"200\"\n      };\n      var divStyle = {\n        padding: \"5px\"\n      };\n      var midiNumbersToNotes = MidiNumbers.NATURAL_MIDI_NUMBERS.reduce(function (obj, midiNumber) {\n        obj[midiNumber] = MidiNumbers.getAttributes(midiNumber).note;\n        return obj;\n      }, {});\n      var _this$props$config = this.props.config,\n          noteRange = _this$props$config.noteRange,\n          instrumentName = _this$props$config.instrumentName,\n          duration = _this$props$config.duration,\n          pauseTime = _this$props$config.pauseTime,\n          octaves = _this$props$config.octaves;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Basic Slider\\uFF0C`step=20`\"), React.createElement(Slider, {\n        step: 20,\n        defaultValue: 50,\n        onBeforeChange: log,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"First note\"), React.createElement(AutoblurSelect, {\n        className: \"form-control\",\n        onChange: this.onChangeFirstNote,\n        value: noteRange.first,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, MidiNumbers.NATURAL_MIDI_NUMBERS.map(function (midiNumber) {\n        return React.createElement(\"option\", {\n          value: midiNumber,\n          disabled: midiNumber >= noteRange.last - 11 || midiNumber < 24,\n          key: midiNumber,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, midiNumbersToNotes[midiNumber]);\n      }))), React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"Intervals\"), React.createElement(Select, {\n        onChange: this.intervalsChanged,\n        closeMenuOnSelect: false,\n        components: makeAnimated(),\n        defaultValue: intervals[5],\n        isMulti: true,\n        name: \"InstrumentSet\",\n        options: intervals,\n        className: \"basic-multi-select\",\n        classNamePrefix: \"select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"Time between two notes\"), React.createElement(AutoblurSelect, {\n        className: \"form-control\",\n        onChange: this.onChangePauseTime,\n        value: pauseTime,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, [0, 1, 2, 3, 4, 5, 6].map(function (i, j) {\n        return React.createElement(\"option\", {\n          value: j + 1,\n          key: j,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }, i);\n      })))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"Last note\"), React.createElement(AutoblurSelect, {\n        className: \"form-control\",\n        onChange: this.onChangeLastNote,\n        value: noteRange.last,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, MidiNumbers.NATURAL_MIDI_NUMBERS.map(function (midiNumber) {\n        return React.createElement(\"option\", {\n          value: midiNumber,\n          disabled: midiNumber <= noteRange.first + 11 || midiNumber > 107,\n          key: midiNumber,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272\n          },\n          __self: this\n        }, midiNumbersToNotes[midiNumber]);\n      }))), React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, \"Max distance between two pitches\"), React.createElement(AutoblurSelect, {\n        className: \"form-control\",\n        onChange: this.onChangeOctaves,\n        value: octaves,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, [\"1 octave\", \"2 octaves\", \"3 octaves\", \"4 octaves\", \"5 octaves\", \"6 octaves\"].map(function (i, j) {\n        return React.createElement(\"option\", {\n          value: j + 1,\n          key: j,\n          disabled: (noteRange.last - noteRange.first) / 8 <= j + 1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, i);\n      }))), React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, \"Duration\"), React.createElement(AutoblurSelect, {\n        className: \"form-control\",\n        onChange: this.onChangeDuration,\n        value: duration,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, [1, 2, 3, 4, 5].map(function (i, j) {\n        return React.createElement(\"option\", {\n          value: j + 1,\n          key: j,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303\n          },\n          __self: this\n        }, i);\n      })))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }), React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, \"Instrument set\"), React.createElement(Select, {\n        onChange: this.onChangeInstrumentSet,\n        closeMenuOnSelect: false,\n        components: makeAnimated(),\n        defaultValue: this.props.instrumentList[1],\n        isMulti: true,\n        name: \"InstrumentSet\",\n        options: this.props.instrumentList,\n        className: \"basic-multi-select\",\n        classNamePrefix: \"select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        onChange: this.showPitch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }), React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, ' ', \" Show pitch \", ' '), this.state.showPitch ? React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, this.props.song[this.props.activeNotesIndex]) : null), React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }), React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, ' ', \" Show solution \", ' ')), React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        onChange: this.showInstrument,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }), React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, ' ', \" Show instrument \", ' '), this.state.showInstrument ? React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, this.props.instrumentName) : null)));\n    }\n  }]);\n\n  return PianoConfig;\n}(React.Component);\n\nexport default PianoConfig;","map":{"version":3,"sources":["/Users/MS/Desktop/uni/stage/tiascolto/src/components/keyboard/PianoConfig.js"],"names":["React","Select","makeAnimated","MidiNumbers","Checkbox","CheckboxGroup","Slider","createSliderWithTooltip","SliderWithTooltip","CustomizedSlider","props","onSliderChange","value","log","setState","onAfterChange","console","state","Component","DynamicBounds","onMinChange","e","min","target","onMaxChange","max","intervals","label","isFixed","Label","children","AutoblurSelect","onChange","event","selectRef","current","blur","createRef","otherProps","PianoConfig","showInstrument","showPitch","intervalsChanged","newIntervals","setConfig","onChangeFirstNote","noteRange","first","parseInt","last","config","onChangeLastNote","onChangeOctaves","octaves","onChangeDuration","duration","onChangePauseTime","pauseTime","onChangeInstrument","instrumentName","range","onChangeInstrumentSet","length","instrumentSet","map","style_font_size","fontSize","divStyle","padding","midiNumbersToNotes","NATURAL_MIDI_NUMBERS","reduce","obj","midiNumber","getAttributes","note","i","j","instrumentList","song","activeNotesIndex"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Select from 'react-select';\nimport makeAnimated from 'react-select/lib/animated';\n\nimport { MidiNumbers } from 'react-piano';\nimport {Checkbox, CheckboxGroup} from 'react-checkbox-group';\nimport Slider, { createSliderWithTooltip } from 'rc-slider';\n\nconst SliderWithTooltip = createSliderWithTooltip(Slider);\n\nclass CustomizedSlider extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: 50,\n    };\n  }\n  onSliderChange = (value) => {\n    log(value);\n    this.setState({\n      value,\n    });\n  }\n  onAfterChange = (value) => {\n    console.log(value); //eslint-disable-line\n  }\n  render() {\n    return (\n      <Slider value={this.state.value}\n        onChange={this.onSliderChange} onAfterChange={this.onAfterChange}\n      />\n    );\n  }\n}\n\nclass DynamicBounds extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      min: 0,\n      max: 100,\n    };\n  }\n  onSliderChange = (value) => {\n    log(value);\n  }\n  onMinChange = (e) => {\n    this.setState({\n      min: +e.target.value || 0,\n    });\n  }\n  onMaxChange = (e) => {\n    this.setState({\n      max: +e.target.value || 100,\n    });\n  }\n  render() {\n    return (\n      <div>\n        <label>Min: </label>\n        <input type=\"number\" value={this.state.min} onChange={this.onMinChange} />\n        <br />\n        <label>Max: </label>\n        <input type=\"number\" value={this.state.max} onChange={this.onMaxChange} />\n        <br /><br />\n        <Slider defaultValue={50} min={this.state.min} max={this.state.max}\n          onChange={this.onSliderChange}\n        />\n      </div>\n    );\n  }\n}\n\nconst intervals = [\n  {value : \"12\", label : '8p ' ,isFixed: true},\n  {value : \"11\", label : '7+ ' ,isFixed: true},\n  {value : \"10\", label : '7- ' ,isFixed: true},\n  {value : \"9\" , label : '6+ ' ,isFixed: true},\n  {value : \"8\" , label : '6- ' ,isFixed: true},\n  {value : \"7\" , label : '5p ' ,isFixed: true},\n  {value : \"6\" , label : 'tr ' ,isFixed: true},\n  {value : \"5\" , label : '4p ' ,isFixed: true},\n  {value : \"4\" , label : '3+ ' ,isFixed: true},\n  {value : \"3\" , label : '3- ' ,isFixed: true},\n  {value : \"2\" , label : '2+ ' ,isFixed: true},\n  {value : \"1\" , label : '2- ' ,isFixed: true},\n ];\n\nfunction Label(props) {\n  return <small className=\"mb-1 text-muted\">{props.children}</small>;\n}\n\nclass AutoblurSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.selectRef = React.createRef();\n  }\n\n  onChange = (event) => {\n    this.props.onChange(event);\n    this.selectRef.current.blur();\n  };\n\n  render() {\n    const { children, onChange, ...otherProps } = this.props;\n    return (\n      <select {...otherProps} onChange={this.onChange} ref={this.selectRef}>\n        {children}\n      </select>\n    );\n  }\n}\n\nclass PianoConfig extends React.Component {\n\n  state = {\n    showInstrument : false,\n    showPitch : false\n  }\n\n  intervalsChanged = (newIntervals) => {\n    this.props.setConfig({\n      intervals : newIntervals\n    });\n  }\n\n  onChangeFirstNote = (event) => {\n    this.props.setConfig({\n      noteRange: {\n        first: parseInt(event.target.value, 10),\n        last: this.props.config.noteRange.last,\n      },\n    });\n  };\n\n  onChangeLastNote = (event) => {\n    this.props.setConfig({\n      noteRange: {\n        first: this.props.config.noteRange.first,\n        last: parseInt(event.target.value, 10),\n      },\n    });\n  };\n\n  onChangeOctaves = (event) => {\n    this.props.setConfig({\n      octaves: event.target.value\n    });\n  };\n\n  onChangeDuration = (event) => {\n    this.props.setConfig({\n      duration: event.target.value\n    });\n  };\n\n  onChangePauseTime = (event) => {\n    this.props.setConfig({\n      pauseTime: event.target.value\n    });\n  }\n\n  onChangeInstrument = (event) => {\n    this.props.setConfig({\n      instrumentName: event.value,\n      noteRange: {\n        first: event.range['first'],\n        last: event.range['last']\n      }\n    });\n  };\n\n  onChangeInstrumentSet = (event) => {    \n    console.log(event.length);\n\n    this.props.setConfig({\n      instrumentSet: (event.length>0)?  event.map(value => value['value']) : [\"acoustic_grand_piano\"]\n    }) \n    console.log(this.props.config.instrumentSet);\n  };\n\n  showInstrument = (event) => {\n      this.setState({\n        showInstrument : !this.state.showInstrument\n      });\n  }\n\n  showPitch = (event) => {\n      this.setState({\n        showPitch : !this.state.showPitch\n      });\n  }\n  \n  render() {\n    var style_font_size = {\n      fontSize: \"200\"\n    };\n\n    var divStyle = { padding : \"5px\"};\n\n    const midiNumbersToNotes = MidiNumbers.NATURAL_MIDI_NUMBERS.reduce((obj, midiNumber) => {\n      obj[midiNumber] = MidiNumbers.getAttributes(midiNumber).note;\n      return obj;\n    }, {});\n    const { noteRange, instrumentName, duration, pauseTime, octaves } = this.props.config;\n\n    return (\n      <div>\n      <p>Basic Slider，`step=20`</p>\n      <Slider step={20} defaultValue={50} onBeforeChange={log} />\n        <hr/>\n\n        <div className=\"form-row\">\n            {/*first Note*/}\n            <div className=\"col-4\">\n              <Label>First note</Label>\n              <AutoblurSelect\n                className=\"form-control\"\n                onChange={this.onChangeFirstNote}\n                value={noteRange.first} >\n                {MidiNumbers.NATURAL_MIDI_NUMBERS.map((midiNumber) => (\n                  <option value={midiNumber} disabled={midiNumber >= noteRange.last-11 || midiNumber < 24} key={midiNumber}>\n                    {midiNumbersToNotes[midiNumber]}\n                  </option>\n                ))}\n              </AutoblurSelect>\n            </div>\n            {/*Intervals*/}\n            <div className=\"col-4\">\n              <Label>Intervals</Label>\n              <Select\n                onChange={this.intervalsChanged}\n                closeMenuOnSelect={false}\n                components={makeAnimated()}\n                defaultValue={intervals[5]}\n                isMulti\n                name=\"InstrumentSet\"\n                options={intervals}\n                className=\"basic-multi-select\"\n                classNamePrefix=\"select\" />\n            </div>\n            {/*Time between two notes*/}\n            <div className=\"col-4\">\n              <Label>Time between two notes</Label>\n              <AutoblurSelect\n                className=\"form-control\" \n                onChange={this.onChangePauseTime} \n                value={pauseTime}>\n              {\n                  [0,1,2,3,4,5,6].map((i,j) => {\n                     return <option value={j+1}  key={j}>\n                          {i}\n                      </option>\n                  })\n                }\n              </AutoblurSelect>\n            </div>\n        </div>\n\n        <hr/>\n\n        <div className=\"form-row\">\n          {/*Last note*/}\n          <div className=\"col-4\">\n              <Label>Last note</Label>\n              <AutoblurSelect\n                className=\"form-control\"\n                onChange={this.onChangeLastNote}\n                value={noteRange.last}\n              >\n                {MidiNumbers.NATURAL_MIDI_NUMBERS.map((midiNumber) => (\n                  <option \n                  value={midiNumber} \n                  disabled={midiNumber <= noteRange.first+11 || midiNumber > 107} \n                  key={midiNumber}>\n                    {midiNumbersToNotes[midiNumber]}\n                  </option>\n                ))}\n              </AutoblurSelect>\n          </div>\n          {/*Max distance between two pitches*/}\n          <div className=\"col-4\">\n            <Label>Max distance between two pitches</Label>\n            <AutoblurSelect\n              className=\"form-control\" onChange={this.onChangeOctaves} value={octaves} \n            >\n              {\n                [\"1 octave\",\"2 octaves\",\"3 octaves\",\"4 octaves\",\"5 octaves\",\"6 octaves\"].map((i,j) => {\n                   return <option value={j+1}  key={j} disabled={\n                     (noteRange.last - noteRange.first)/8 <= j+1}>\n                        {i}\n                    </option>\n                })\n              }\n            </AutoblurSelect>\n          </div>\n          {/* Duration */}\n          <div className=\"col-4\">\n            <Label>Duration</Label>\n            <AutoblurSelect className=\"form-control\" onChange={this.onChangeDuration} value={duration}>\n              {\n                [1,2,3,4,5].map((i,j) => {\n                   return <option value={j+1}  key={j}>\n                        {i}\n                    </option>\n                })\n              }\n            </AutoblurSelect>\n          </div>\n        </div>\n\n        <hr/>\n\n        {/*Instrument set*/}\n        <Label>Instrument set</Label>\n\n          <Select\n            onChange={this.onChangeInstrumentSet}\n            closeMenuOnSelect={false}\n            components={makeAnimated()}\n            defaultValue={this.props.instrumentList[1]}\n            isMulti\n            name=\"InstrumentSet\"\n            options={this.props.instrumentList}\n            className=\"basic-multi-select\"\n            classNamePrefix=\"select\"\n          />\n\n        <hr/>\n\n        <div className=\"form-row\">\n          <div className=\"col-4\">\n            <input type=\"checkbox\" onChange={this.showPitch} />\n            <Label>{' '} Show pitch {' '}</Label>\n            { this.state.showPitch ? <Label>{this.props.song[this.props.activeNotesIndex]}</Label> :  null}\n          </div>\n          <div className=\"col-4\">\n            <input type=\"checkbox\" />\n            <Label>{' '} Show solution {' '}</Label>\n          </div>\n          <div className=\"col-4\">\n            <input type=\"checkbox\" onChange={this.showInstrument}/>\n            <Label>{' '} Show instrument {' '}</Label>\n            { this.state.showInstrument ? <Label>{this.props.instrumentName}</Label> :  null}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PianoConfig;\n"]},"metadata":{},"sourceType":"module"}